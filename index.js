var Cr=Object.defineProperty;var Zt=e=>{throw TypeError(e)};var kr=(e,t,n)=>t in e?Cr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var x=(e,t,n)=>kr(e,typeof t!="symbol"?t+"":t,n),vt=(e,t,n)=>t.has(e)||Zt("Cannot "+n);var c=(e,t,n)=>(vt(e,t,"read from private field"),n?n.call(e):t.get(e)),A=(e,t,n)=>t.has(e)?Zt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),y=(e,t,n,r)=>(vt(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),k=(e,t,n)=>(vt(e,t,"access private method"),n);var Jt=(e,t,n,r)=>({set _(s){y(e,t,s,n)},get _(){return c(e,t,r)}});import{AsyncLocalStorage as Rr}from"node:async_hooks";function _r(){const{process:e,Deno:t}=globalThis;return!(typeof(t==null?void 0:t.noColor)=="boolean"?t.noColor:e!==void 0?"NO_COLOR"in(e==null?void 0:e.env):!1)}var Pt="__COMPOSED_HANDLER",jn=e=>e.length>1,On=e=>e[Pt]?On(e[Pt]):e,jr=e=>e.name||(jn(e)?"[middleware]":"[handler]"),Or=e=>e.routes.map(({path:t,method:n,handler:r})=>{const s=On(r);return{path:t,method:n,name:jr(s),isMiddleware:jn(s)}}),Pr=(e,t)=>{const n=_r(),r={};let s=0,i=0;Or(e).filter(({isMiddleware:o})=>!o).map(o=>{const a=`${o.method}-${o.path}`;if((r[a]||(r[a]=[])).push(o),!(r[a].length>1))return s=Math.max(s,o.method.length),i=Math.max(i,o.path.length),{method:o.method,path:o.path,routes:r[a]}}).forEach(o=>{if(!o)return;const{method:a,path:l,routes:u}=o,h=n?`\x1B[32m${a}\x1B[0m`:a;console.log(`${h} ${" ".repeat(s-a.length)} ${l}`)})};const Lr=e=>(e.status(404),e.render("404 Not Found")),Nr=Object.freeze(Object.defineProperty({__proto__:null,default:Lr},Symbol.toStringTag,{value:"Module"})),$r=(e,t)=>"getResponse"in e?e.getResponse():(console.error(e.message),t.status(500),t.render("Internal Server Error")),Dr=Object.freeze(Object.defineProperty({__proto__:null,default:$r},Symbol.toStringTag,{value:"Module"}));var Pn={Stringify:1},F=(e,t)=>{const n=new String(e);return n.isEscaped=!0,n.callbacks=t,n},Tr=/[&<>'"]/,Ln=async(e,t)=>{let n="";t||(t=[]);const r=await Promise.all(e);for(let s=r.length-1;n+=r[s],s--,!(s<0);s--){let i=r[s];typeof i=="object"&&t.push(...i.callbacks||[]);const o=i.isEscaped;if(i=await(typeof i=="object"?i.toString():i),typeof i=="object"&&t.push(...i.callbacks||[]),i.isEscaped??o)n+=i;else{const a=[n];ue(i,a),n=a[0]}}return F(n,t)},ue=(e,t)=>{const n=e.search(Tr);if(n===-1){t[0]+=e;return}let r,s,i=0;for(s=n;s<e.length;s++){switch(e.charCodeAt(s)){case 34:r="&quot;";break;case 39:r="&#39;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}t[0]+=e.substring(i,s)+r,i=s+1}t[0]+=e.substring(i,s)},Nn=e=>{const t=e.callbacks;if(!(t!=null&&t.length))return e;const n=[e],r={};return t.forEach(s=>s({phase:Pn.Stringify,buffer:n,context:r})),n[0]},$n=async(e,t,n,r,s)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));const i=e.callbacks;return i!=null&&i.length?(s?s[0]+=e:s=[e],Promise.all(i.map(a=>a({phase:t,buffer:s,context:r}))).then(a=>Promise.all(a.filter(Boolean).map(l=>$n(l,t,!1,r,s))).then(()=>s[0]))):Promise.resolve(e)},Ir=(e,...t)=>{const n=[""];for(let r=0,s=e.length-1;r<s;r++){n[0]+=e[r];const i=Array.isArray(t[r])?t[r].flat(1/0):[t[r]];for(let o=0,a=i.length;o<a;o++){const l=i[o];if(typeof l=="string")ue(l,n);else if(typeof l=="number")n[0]+=l;else{if(typeof l=="boolean"||l===null||l===void 0)continue;if(typeof l=="object"&&l.isEscaped)if(l.callbacks)n.unshift("",l);else{const u=l.toString();u instanceof Promise?n.unshift("",u):n[0]+=u}else l instanceof Promise?n.unshift("",l):ue(l.toString(),n)}}}return n[0]+=e.at(-1),n.length===1?"callbacks"in n?F(Nn(F(n[0],n.callbacks))):F(n[0]):Ln(n,n.callbacks)},Bt=Symbol("RENDERER"),Lt=Symbol("ERROR_HANDLER"),_=Symbol("STASH"),Dn=Symbol("INTERNAL"),Mr=Symbol("MEMO"),dt=Symbol("PERMALINK"),Xt=e=>(e[Dn]=!0,e),Tn=e=>({value:t,children:n})=>{if(!n)return;const r={children:[{tag:Xt(()=>{e.push(t)}),props:{}}]};Array.isArray(n)?r.children.push(...n.flat()):r.children.push(n),r.children.push({tag:Xt(()=>{e.pop()}),props:{}});const s={tag:"",props:r,type:""};return s[Lt]=i=>{throw e.pop(),i},s},In=e=>{const t=[e],n=Tn(t);return n.values=t,n.Provider=n,Oe.push(n),n},Oe=[],zt=e=>{const t=[e],n=r=>{t.push(r.value);let s;try{s=r.children?(Array.isArray(r.children)?new Fn("",{},r.children):r.children).toString():""}finally{t.pop()}return s instanceof Promise?s.then(i=>F(i,i.callbacks)):F(s)};return n.values=t,n.Provider=n,n[Bt]=Tn(t),Oe.push(n),n},we=e=>e.values.at(-1),st={title:[],script:["src"],style:["data-href"],link:["href"],meta:["name","httpEquiv","charset","itemProp"]},Nt={},it="data-precedence",Xe=e=>Array.isArray(e)?e:[e],Yt=new WeakMap,en=(e,t,n,r)=>({buffer:s,context:i})=>{if(!s)return;const o=Yt.get(i)||{};Yt.set(i,o);const a=o[e]||(o[e]=[]);let l=!1;const u=st[e];if(u.length>0){e:for(const[,h]of a)for(const f of u)if(((h==null?void 0:h[f])??null)===(n==null?void 0:n[f])){l=!0;break e}}if(l?s[0]=s[0].replaceAll(t,""):u.length>0?a.push([t,n,r]):a.unshift([t,n,r]),s[0].indexOf("</head>")!==-1){let h;if(r===void 0)h=a.map(([f])=>f);else{const f=[];h=a.map(([d,,g])=>{let v=f.indexOf(g);return v===-1&&(f.push(g),v=f.length-1),[d,v]}).sort((d,g)=>d[1]-g[1]).map(([d])=>d)}h.forEach(f=>{s[0]=s[0].replaceAll(f,"")}),s[0]=s[0].replace(/(?=<\/head>)/,h.join(""))}},Ye=(e,t,n)=>F(new V(e,n,Xe(t??[])).toString()),et=(e,t,n,r)=>{if("itemProp"in n)return Ye(e,t,n);let{precedence:s,blocking:i,...o}=n;s=r?s??"":void 0,r&&(o[it]=s);const a=new V(e,o,Xe(t||[])).toString();return a instanceof Promise?a.then(l=>F(a,[...l.callbacks||[],en(e,l,o,s)])):F(a,[en(e,a,o,s)])},Hr=({children:e,...t})=>{const n=qt();if(n){const r=we(n);if(r==="svg"||r==="head")return new V("title",t,Xe(e??[]))}return et("title",e,t,!1)},Wr=({children:e,...t})=>{const n=qt();return["src","async"].some(r=>!t[r])||n&&we(n)==="head"?Ye("script",e,t):et("script",e,t,!1)},Fr=({children:e,...t})=>["href","precedence"].every(n=>n in t)?(t["data-href"]=t.href,delete t.href,et("style",e,t,!0)):Ye("style",e,t),Br=({children:e,...t})=>["onLoad","onError"].some(n=>n in t)||t.rel==="stylesheet"&&(!("precedence"in t)||"disabled"in t)?Ye("link",e,t):et("link",e,t,"precedence"in t),zr=({children:e,...t})=>{const n=qt();return n&&we(n)==="head"?Ye("meta",e,t):et("meta",e,t,!1)},Mn=(e,{children:t,...n})=>new V(e,n,Xe(t??[])),qr=e=>(typeof e.action=="function"&&(e.action=dt in e.action?e.action[dt]:void 0),Mn("form",e)),Hn=(e,t)=>(typeof t.formAction=="function"&&(t.formAction=dt in t.formAction?t.formAction[dt]:void 0),Mn(e,t)),Ur=e=>Hn("input",e),Vr=e=>Hn("button",e);const bt=Object.freeze(Object.defineProperty({__proto__:null,button:Vr,form:qr,input:Ur,link:Br,meta:zr,script:Wr,style:Fr,title:Hr},Symbol.toStringTag,{value:"Module"}));var Gr=new Map([["className","class"],["htmlFor","for"],["crossOrigin","crossorigin"],["httpEquiv","http-equiv"],["itemProp","itemprop"],["fetchPriority","fetchpriority"],["noModule","nomodule"],["formAction","formaction"]]),pt=e=>Gr.get(e)||e,Wn=(e,t)=>{for(const[n,r]of Object.entries(e)){const s=n[0]==="-"||!/[A-Z]/.test(n)?n:n.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`);t(s,r==null?null:typeof r=="number"?s.match(/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?`${r}`:`${r}px`:r)}},ze=void 0,qt=()=>ze,Kr=e=>/[A-Z]/.test(e)&&e.match(/^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/)?e.replace(/([A-Z])/g,"-$1").toLowerCase():e,Qr=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],Zr=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Ut=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const s=e[n];if(typeof s=="string")ue(s,t);else{if(typeof s=="boolean"||s===null||s===void 0)continue;s instanceof V?s.toStringToBuffer(t):typeof s=="number"||s.isEscaped?t[0]+=s:s instanceof Promise?t.unshift("",s):Ut(s,t)}}},V=class{constructor(e,t,n){x(this,"tag");x(this,"props");x(this,"key");x(this,"children");x(this,"isEscaped",!0);x(this,"localContexts");this.tag=e,this.props=t,this.children=n}get type(){return this.tag}get ref(){return this.props.ref||null}toString(){var t,n;const e=[""];(t=this.localContexts)==null||t.forEach(([r,s])=>{r.values.push(s)});try{this.toStringToBuffer(e)}finally{(n=this.localContexts)==null||n.forEach(([r])=>{r.values.pop()})}return e.length===1?"callbacks"in e?Nn(F(e[0],e.callbacks)).toString():e[0]:Ln(e,e.callbacks)}toStringToBuffer(e){const t=this.tag,n=this.props;let{children:r}=this;e[0]+=`<${t}`;const s=ze&&we(ze)==="svg"?i=>Kr(pt(i)):i=>pt(i);for(let[i,o]of Object.entries(n))if(i=s(i),i!=="children"){if(i==="style"&&typeof o=="object"){let a="";Wn(o,(l,u)=>{u!=null&&(a+=`${a?";":""}${l}:${u}`)}),e[0]+=' style="',ue(a,e),e[0]+='"'}else if(typeof o=="string")e[0]+=` ${i}="`,ue(o,e),e[0]+='"';else if(o!=null)if(typeof o=="number"||o.isEscaped)e[0]+=` ${i}="${o}"`;else if(typeof o=="boolean"&&Zr.includes(i))o&&(e[0]+=` ${i}=""`);else if(i==="dangerouslySetInnerHTML"){if(r.length>0)throw"Can only set one of `children` or `props.dangerouslySetInnerHTML`.";r=[F(o.__html)]}else if(o instanceof Promise)e[0]+=` ${i}="`,e.unshift('"',o);else if(typeof o=="function"){if(!i.startsWith("on"))throw`Invalid prop '${i}' of type 'function' supplied to '${t}'.`}else e[0]+=` ${i}="`,ue(o.toString(),e),e[0]+='"'}if(Qr.includes(t)&&r.length===0){e[0]+="/>";return}e[0]+=">",Ut(r,e),e[0]+=`</${t}>`}},St=class extends V{toStringToBuffer(e){const{children:t}=this,n=this.tag.call(null,{...this.props,children:t.length<=1?t[0]:t});if(!(typeof n=="boolean"||n==null))if(n instanceof Promise)if(Oe.length===0)e.unshift("",n);else{const r=Oe.map(s=>[s,s.values.at(-1)]);e.unshift("",n.then(s=>(s instanceof V&&(s.localContexts=r),s)))}else n instanceof V?n.toStringToBuffer(e):typeof n=="number"||n.isEscaped?(e[0]+=n,n.callbacks&&(e.callbacks||(e.callbacks=[]),e.callbacks.push(...n.callbacks))):ue(n,e)}},Fn=class extends V{toStringToBuffer(e){Ut(this.children,e)}},$t=(e,t,...n)=>{t??(t={}),n.length&&(t.children=n.length===1?n[0]:n);const r=t.key;delete t.key;const s=ot(e,t,n);return s.key=r,s},tn=!1,ot=(e,t,n)=>{if(!tn){for(const r in Nt)bt[r][Bt]=Nt[r];tn=!0}return typeof e=="function"?new St(e,t,n):bt[e]?new St(bt[e],t,n):e==="svg"||e==="head"?(ze||(ze=zt("")),new V(e,t,[new St(ze,{value:e},n)])):new V(e,t,n)},Pe=({children:e})=>new Fn("",{children:e},Array.isArray(e)?e:e?[e]:[]),Jr=e=>!!(e&&typeof e=="object"&&"tag"in e&&"props"in e);function p(e,t,n){let r;if(!t||!("children"in t))r=ot(e,t,[]);else{const s=t.children;r=Array.isArray(s)?ot(e,t,s):ot(e,t,[s])}return r.key=n,r}var qe="_hp",Xr={Change:"Input",DoubleClick:"DblClick"},Yr={svg:"2000/svg",math:"1998/Math/MathML"},Le=[],Dt=new WeakMap,Ne=void 0,es=()=>Ne,Z=e=>"t"in e,xt={onClick:["click",!1]},nn=e=>{if(!e.startsWith("on"))return;if(xt[e])return xt[e];const t=e.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);if(t){const[,n,r]=t;return xt[e]=[(Xr[n]||n).toLowerCase(),!!r]}},rn=(e,t)=>Ne&&e instanceof SVGElement&&/[A-Z]/.test(t)&&(t in e.style||t.match(/^(?:o|pai|str|u|ve)/))?t.replace(/([A-Z])/g,"-$1").toLowerCase():t,ts=(e,t,n)=>{var r;t||(t={});for(let s in t){const i=t[s];if(s!=="children"&&(!n||n[s]!==i)){s=pt(s);const o=nn(s);if(o){if((n==null?void 0:n[s])!==i&&(n&&e.removeEventListener(o[0],n[s],o[1]),i!=null)){if(typeof i!="function")throw new Error(`Event handler for "${s}" is not a function`);e.addEventListener(o[0],i,o[1])}}else if(s==="dangerouslySetInnerHTML"&&i)e.innerHTML=i.__html;else if(s==="ref"){let a;typeof i=="function"?a=i(e)||(()=>i(null)):i&&"current"in i&&(i.current=e,a=()=>i.current=null),Dt.set(e,a)}else if(s==="style"){const a=e.style;typeof i=="string"?a.cssText=i:(a.cssText="",i!=null&&Wn(i,a.setProperty.bind(a)))}else{if(s==="value"){const l=e.nodeName;if(l==="INPUT"||l==="TEXTAREA"||l==="SELECT"){if(e.value=i==null||i===!1?null:i,l==="TEXTAREA"){e.textContent=i;continue}else if(l==="SELECT"){e.selectedIndex===-1&&(e.selectedIndex=0);continue}}}else(s==="checked"&&e.nodeName==="INPUT"||s==="selected"&&e.nodeName==="OPTION")&&(e[s]=i);const a=rn(e,s);i==null||i===!1?e.removeAttribute(a):i===!0?e.setAttribute(a,""):typeof i=="string"||typeof i=="number"?e.setAttribute(a,i):e.setAttribute(a,i.toString())}}}if(n)for(let s in n){const i=n[s];if(s!=="children"&&!(s in t)){s=pt(s);const o=nn(s);o?e.removeEventListener(o[0],i,o[1]):s==="ref"?(r=Dt.get(e))==null||r():e.removeAttribute(rn(e,s))}}},ns=(e,t)=>{t[_][0]=0,Le.push([e,t]);const n=t.tag[Bt]||t.tag,r=n.defaultProps?{...n.defaultProps,...t.props}:t.props;try{return[n.call(null,r)]}finally{Le.pop()}},Bn=(e,t,n,r,s)=>{var i,o;(i=e.vR)!=null&&i.length&&(r.push(...e.vR),delete e.vR),typeof e.tag=="function"&&((o=e[_][1][We])==null||o.forEach(a=>s.push(a))),e.vC.forEach(a=>{var l;if(Z(a))n.push(a);else if(typeof a.tag=="function"||a.tag===""){a.c=t;const u=n.length;if(Bn(a,t,n,r,s),a.s){for(let h=u;h<n.length;h++)n[h].s=!0;a.s=!1}}else n.push(a),(l=a.vR)!=null&&l.length&&(r.push(...a.vR),delete a.vR)})},rs=e=>{for(;;e=e.tag===qe||!e.vC||!e.pP?e.nN:e.vC[0]){if(!e)return null;if(e.tag!==qe&&e.e)return e.e}},zn=e=>{var t,n,r,s,i,o;Z(e)||((n=(t=e[_])==null?void 0:t[1][We])==null||n.forEach(a=>{var l;return(l=a[2])==null?void 0:l.call(a)}),(r=Dt.get(e.e))==null||r(),e.p===2&&((s=e.vC)==null||s.forEach(a=>a.p=2)),(i=e.vC)==null||i.forEach(zn)),e.p||((o=e.e)==null||o.remove(),delete e.e),typeof e.tag=="function"&&(Ie.delete(e),at.delete(e),delete e[_][3],e.a=!0)},qn=(e,t,n)=>{e.c=t,Un(e,t,n)},sn=(e,t)=>{if(t){for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n}},on=Symbol(),Un=(e,t,n)=>{var u;const r=[],s=[],i=[];Bn(e,t,r,s,i),s.forEach(zn);const o=n?void 0:t.childNodes;let a,l=null;if(n)a=-1;else if(!o.length)a=0;else{const h=sn(o,rs(e.nN));h!==void 0?(l=o[h],a=h):a=sn(o,(u=r.find(f=>f.tag!==qe&&f.e))==null?void 0:u.e)??-1,a===-1&&(n=!0)}for(let h=0,f=r.length;h<f;h++,a++){const d=r[h];let g;if(d.s&&d.e)g=d.e,d.s=!1;else{const v=n||!d.e;Z(d)?(d.e&&d.d&&(d.e.textContent=d.t),d.d=!1,g=d.e||(d.e=document.createTextNode(d.t))):(g=d.e||(d.e=d.n?document.createElementNS(d.n,d.tag):document.createElement(d.tag)),ts(g,d.props,d.pP),Un(d,g,v))}d.tag===qe?a--:n?g.parentNode||t.appendChild(g):o[a]!==g&&o[a-1]!==g&&(o[a+1]===g?t.appendChild(o[a]):t.insertBefore(g,l||o[a]||null))}if(e.pP&&delete e.pP,i.length){const h=[],f=[];i.forEach(([,d,,g,v])=>{d&&h.push(d),g&&f.push(g),v==null||v()}),h.forEach(d=>d()),f.length&&requestAnimationFrame(()=>{f.forEach(d=>d())})}},ss=(e,t)=>!!(e&&e.length===t.length&&e.every((n,r)=>n[1]===t[r][1])),at=new WeakMap,Tt=(e,t,n)=>{var i,o,a,l,u,h;const r=!n&&t.pC;n&&(t.pC||(t.pC=t.vC));let s;try{n||(n=typeof t.tag=="function"?ns(e,t):Xe(t.props.children)),((i=n[0])==null?void 0:i.tag)===""&&n[0][Lt]&&(s=n[0][Lt],e[5].push([e,s,t]));const f=r?[...t.pC]:t.vC?[...t.vC]:void 0,d=[];let g;for(let v=0;v<n.length;v++){Array.isArray(n[v])&&n.splice(v,1,...n[v].flat());let m=is(n[v]);if(m){typeof m.tag=="function"&&!m.tag[Dn]&&(Oe.length>0&&(m[_][2]=Oe.map(S=>[S,S.values.at(-1)])),(o=e[5])!=null&&o.length&&(m[_][3]=e[5].at(-1)));let b;if(f&&f.length){const S=f.findIndex(Z(m)?w=>Z(w):m.key!==void 0?w=>w.key===m.key&&w.tag===m.tag:w=>w.tag===m.tag);S!==-1&&(b=f[S],f.splice(S,1))}if(b)if(Z(m))b.t!==m.t&&(b.t=m.t,b.d=!0),m=b;else{const S=b.pP=b.props;if(b.props=m.props,b.f||(b.f=m.f||t.f),typeof m.tag=="function"){const w=b[_][2];b[_][2]=m[_][2]||[],b[_][3]=m[_][3],!b.f&&((b.o||b)===m.o||(l=(a=b.tag)[Mr])!=null&&l.call(a,S,b.props))&&ss(w,b[_][2])&&(b.s=!0)}m=b}else if(!Z(m)&&Ne){const S=we(Ne);S&&(m.n=S)}if(!Z(m)&&!m.s&&(Tt(e,m),delete m.f),d.push(m),g&&!g.s&&!m.s)for(let S=g;S&&!Z(S);S=(u=S.vC)==null?void 0:u.at(-1))S.nN=m;g=m}}t.vR=r?[...t.vC,...f||[]]:f||[],t.vC=d,r&&delete t.pC}catch(f){if(t.f=!0,f===on){if(s)return;throw f}const[d,g,v]=((h=t[_])==null?void 0:h[3])||[];if(g){const m=()=>lt([0,!1,e[2]],v),b=at.get(v)||[];b.push(m),at.set(v,b);const S=g(f,()=>{const w=at.get(v);if(w){const E=w.indexOf(m);if(E!==-1)return w.splice(E,1),m()}});if(S){if(e[0]===1)e[1]=!0;else if(Tt(e,v,[S]),(g.length===1||e!==d)&&v.c){qn(v,v.c,!1);return}throw on}}throw f}finally{s&&e[5].pop()}},is=e=>{if(!(e==null||typeof e=="boolean")){if(typeof e=="string"||typeof e=="number")return{t:e.toString(),d:!0};if("vR"in e&&(e={tag:e.tag,props:e.props,key:e.key,f:e.f,type:e.tag,ref:e.props.ref,o:e.o||e}),typeof e.tag=="function")e[_]=[0,[]];else{const t=Yr[e.tag];t&&(Ne||(Ne=In("")),e.props.children=[{tag:Ne,props:{value:e.n=`http://www.w3.org/${t}`,children:e.props.children}}])}return e}},an=(e,t)=>{var n,r;(n=t[_][2])==null||n.forEach(([s,i])=>{s.values.push(i)});try{Tt(e,t,void 0)}catch{return}if(t.a){delete t.a;return}(r=t[_][2])==null||r.forEach(([s])=>{s.values.pop()}),(e[0]!==1||!e[1])&&qn(t,t.c,!1)},Ie=new WeakMap,ln=[],lt=async(e,t)=>{e[5]||(e[5]=[]);const n=Ie.get(t);n&&n[0](void 0);let r;const s=new Promise(i=>r=i);if(Ie.set(t,[r,()=>{e[2]?e[2](e,t,i=>{an(i,t)}).then(()=>r(t)):(an(e,t),r(t))}]),ln.length)ln.at(-1).add(t);else{await Promise.resolve();const i=Ie.get(t);i&&(Ie.delete(t),i[1]())}return s},os=(e,t,n)=>({tag:qe,props:{children:e},key:n,e:t,p:1}),wt=0,We=1,Et=2,At=3,Ct=new WeakMap,Vt=(e,t)=>!e||!t||e.length!==t.length||t.some((n,r)=>n!==e[r]),as=void 0,cn=[],Ue=e=>{var o;const t=()=>typeof e=="function"?e():e,n=Le.at(-1);if(!n)return[t(),()=>{}];const[,r]=n,s=(o=r[_][1])[wt]||(o[wt]=[]),i=r[_][0]++;return s[i]||(s[i]=[t(),a=>{const l=as,u=s[i];if(typeof a=="function"&&(a=a(u[0])),!Object.is(a,u[0]))if(u[0]=a,cn.length){const[h,f]=cn.at(-1);Promise.all([h===3?r:lt([h,!1,l],r),f]).then(([d])=>{if(!d||!(h===2||h===3))return;const g=d.vC;requestAnimationFrame(()=>{setTimeout(()=>{g===d.vC&&lt([h===3?1:0,!1,l],d)})})})}else lt([0,!1,l],r)}])},ls=(e,t,n)=>{var u;const r=Le.at(-1);if(!r)return;const[,s]=r,i=(u=s[_][1])[We]||(u[We]=[]),o=s[_][0]++,[a,,l]=i[o]||(i[o]=[]);if(Vt(a,n)){l&&l();const h=()=>{f[e]=void 0,f[2]=t()},f=[n,void 0,void 0,void 0,void 0];f[e]=h,i[o]=f}},un=(e,t)=>ls(3,e,t),Gt=(e,t)=>{var a;const n=Le.at(-1);if(!n)return e;const[,r]=n,s=(a=r[_][1])[Et]||(a[Et]=[]),i=r[_][0]++,o=s[i];return Vt(o==null?void 0:o[1],t)?s[i]=[e,t]:e=s[i][0],e},cs=e=>{const t=Ct.get(e);if(t){if(t.length===2)throw t[1];return t[0]}throw e.then(n=>Ct.set(e,[n]),n=>Ct.set(e,[void 0,n])),e},us=(e,t)=>{var a;const n=Le.at(-1);if(!n)return e();const[,r]=n,s=(a=r[_][1])[At]||(a[At]=[]),i=r[_][0]++,o=s[i];return Vt(o==null?void 0:o[1],t)&&(s[i]=[e(),t]),s[i][0]},hs=In({pending:!1,data:null,method:null,action:null}),hn=new Set,fs=e=>{hn.add(e),e.finally(()=>hn.delete(e))},Kt=(e,t)=>us(()=>n=>{let r;e&&(typeof e=="function"?r=e(n)||(()=>{e(null)}):e&&"current"in e&&(e.current=n,r=()=>{e.current=null}));const s=t(n);return()=>{s==null||s(),r==null||r()}},[e]),Ee=Object.create(null),nt=Object.create(null),tt=(e,t,n,r,s)=>{if(t!=null&&t.itemProp)return{tag:e,props:t,type:e,ref:t.ref};const i=document.head;let{onLoad:o,onError:a,precedence:l,blocking:u,...h}=t,f=null,d=!1;const g=st[e];let v;if(g.length>0){const w=i.querySelectorAll(e);e:for(const E of w)for(const C of st[e])if(E.getAttribute(C)===t[C]){f=E;break e}if(!f){const E=g.reduce((C,R)=>t[R]===void 0?C:`${C}-${R}-${t[R]}`,e);d=!nt[E],f=nt[E]||(nt[E]=(()=>{const C=document.createElement(e);for(const R of g)t[R]!==void 0&&C.setAttribute(R,t[R]),t.rel&&C.setAttribute("rel",t.rel);return C})())}}else v=i.querySelectorAll(e);l=r?l??"":void 0,r&&(h[it]=l);const m=Gt(w=>{if(g.length>0){let E=!1;for(const C of i.querySelectorAll(e)){if(E&&C.getAttribute(it)!==l){i.insertBefore(w,C);return}C.getAttribute(it)===l&&(E=!0)}i.appendChild(w)}else if(v){let E=!1;for(const C of v)if(C===w){E=!0;break}E||i.insertBefore(w,i.contains(v[0])?v[0]:i.querySelector(e)),v=void 0}},[l]),b=Kt(t.ref,w=>{var R;const E=g[0];if(n===2&&(w.innerHTML=""),(d||v)&&m(w),!a&&!o)return;let C=Ee[R=w.getAttribute(E)]||(Ee[R]=new Promise((G,K)=>{w.addEventListener("load",G),w.addEventListener("error",K)}));o&&(C=C.then(o)),a&&(C=C.catch(a)),C.catch(()=>{})});if(s&&u==="render"){const w=st[e][0];if(t[w]){const E=t[w],C=Ee[E]||(Ee[E]=new Promise((R,G)=>{m(f),f.addEventListener("load",R),f.addEventListener("error",G)}));cs(C)}}const S={tag:e,type:e,props:{...h,ref:b},ref:b};return S.p=n,f&&(S.e=f),os(S,i)},ds=e=>{const t=es(),n=t&&we(t);return n!=null&&n.endsWith("svg")?{tag:"title",props:e,type:"title",ref:e.ref}:tt("title",e,void 0,!1,!1)},ps=e=>!e||["src","async"].some(t=>!e[t])?{tag:"script",props:e,type:"script",ref:e.ref}:tt("script",e,1,!1,!0),ms=e=>!e||!["href","precedence"].every(t=>t in e)?{tag:"style",props:e,type:"style",ref:e.ref}:(e["data-href"]=e.href,delete e.href,tt("style",e,2,!0,!0)),gs=e=>!e||["onLoad","onError"].some(t=>t in e)||e.rel==="stylesheet"&&(!("precedence"in e)||"disabled"in e)?{tag:"link",props:e,type:"link",ref:e.ref}:tt("link",e,1,"precedence"in e,!0),ys=e=>tt("meta",e,void 0,!1,!1),Vn=Symbol(),vs=e=>{const{action:t,...n}=e;typeof t!="function"&&(n.action=t);const[r,s]=Ue([null,!1]),i=Gt(async u=>{const h=u.isTrusted?t:u.detail[Vn];if(typeof h!="function")return;u.preventDefault();const f=new FormData(u.target);s([f,!0]);const d=h(f);d instanceof Promise&&(fs(d),await d),s([null,!0])},[]),o=Kt(e.ref,u=>(u.addEventListener("submit",i),()=>{u.removeEventListener("submit",i)})),[a,l]=r;return r[1]=!1,{tag:hs,props:{value:{pending:a!==null,data:a,method:a?"post":null,action:a?t:null},children:{tag:"form",props:{...n,ref:o},type:"form",ref:o}},f:l}},Gn=(e,{formAction:t,...n})=>{if(typeof t=="function"){const r=Gt(s=>{s.preventDefault(),s.currentTarget.form.dispatchEvent(new CustomEvent("submit",{detail:{[Vn]:t}}))},[]);n.ref=Kt(n.ref,s=>(s.addEventListener("click",r),()=>{s.removeEventListener("click",r)}))}return{tag:e,props:n,type:e,ref:n.ref}},bs=e=>Gn("input",e),Ss=e=>Gn("button",e);Object.assign(Nt,{title:ds,script:ps,style:ms,link:gs,meta:ys,form:vs,input:bs,button:Ss});new TextEncoder;var xs=zt(null),ws=(e,t,n,r)=>(s,i)=>{const o="<!DOCTYPE html>",a=n?$t(u=>n(u,e),{Layout:t,...i},s):s,l=Ir`${F(o)}${$t(xs.Provider,{value:e},a)}`;return e.html(l)},Es=(e,t)=>function(r,s){const i=r.getLayout()??Pe;return e&&r.setLayout(o=>e({...o,Layout:i},r)),r.setRenderer(ws(r,i,e)),s()};const As=Es(({children:e})=>p("html",{lang:"en",children:[p("head",{children:[p("meta",{charset:"utf-8"}),p("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),p("link",{href:"/favicon.ico",rel:"icon"}),p(Bi,{href:"/app/style.css",rel:"stylesheet"}),p(Fi,{src:"/app/client.ts",async:!0})]}),p("body",{children:e})]})),Cs=Object.freeze(Object.defineProperty({__proto__:null,default:As},Symbol.toStringTag,{value:"Module"}));function Kn(e){return[/github\.com\/[^\/]+\/[^\/]+/,/qiita\.com\/[^\/]+\/items/,/qiita\.com\/tags/,/zenn\.dev\/[^\/]+\/articles/,/zenn\.dev\/[^\/]+\/books/,/zenn\.dev\/topics/,/dev\.classmethod\.jp\/articles/,/speakerdeck\.com\/[^\/]+\/[^\/]+/,/x\.com\/[^\/]+\/status/,/x\.com\/search/,/docswell\.com\/slide/].some(r=>r.test(e))?!1:[/https?:\/\/dev\.classmethod\.jp\/author\/[a-zA-Z0-9_-]+$/,/https?:\/\/github\.com\/[a-zA-Z0-9_-]+$/,/https?:\/\/zenn\.dev\/[a-zA-Z0-9_-]+$/,/https?:\/\/speakerdeck\.com\/[a-zA-Z0-9_-]+$/,/https?:\/\/x\.com\/[a-zA-Z0-9_-]+$/,/https?:\/\/qiita\.com\/[a-zA-Z0-9_-]+$/,/https?:\/\/www\.docswell\.com\/user\/[a-zA-Z0-9_-]+$/].some(r=>r.test(e))}function ks(e){const t=/\[([^\]]+)\]\(([^)]+)\)/g;let n;for(;(n=t.exec(e))!==null;){const r=n[2];if(Kn(r))return!0}return!1}function Rs(e,t){if(!ks(e))return e;const n={"dev.classmethod.jp":{name:"DevelopersIO",logo:"amazonaws",color:"orange",usernameRegex:/dev\.classmethod\.jp\/author\/([^\/\s\)]+)/},"github.com":{name:"GitHub",logo:"github",color:"black",usernameRegex:/github\.com\/([^\/\s\)]+)/},"zenn.dev":{name:"Zenn",logo:"zenn",color:"blue",usernameRegex:/zenn\.dev\/([^\/\s\)]+)/},"speakerdeck.com":{name:"Speaker--Deck",logo:"speakerdeck",color:"green",usernameRegex:/speakerdeck\.com\/([^\/\s\)]+)/},"x.com":{name:"X",logo:"x",color:"black",usernameRegex:/x\.com\/([^\/\s\)]+)/},"qiita.com":{name:"Qiita",logo:"qiita",color:"brightgreen",usernameRegex:/qiita\.com\/([^\/\s\)]+)/},"www.docswell.com":{name:"Docswell",logo:"readthedocs",color:"blue",usernameRegex:/www\.docswell\.com\/user\/([^\/\s\)]+)/}};let r=e;return Object.entries(n).forEach(([s,i])=>{const o=new RegExp(`\\[([^\\]]+)\\]\\(https?://${s.replace(/\./g,"\\.")}[^\\)]*\\)`,"g");r=r.replace(o,a=>{try{const l=a.match(/\[([^\]]+)\]\(([^)]+)\)/);if(!l)return a;const u=l[2];if(!Kn(u))return a;const h=a.match(i.usernameRegex),f=h?h[1]:"";if(f){const d=encodeURIComponent(`${i.name}-@${f}`),g=encodeURIComponent(i.logo),v=encodeURIComponent(i.color),m=`https://img.shields.io/badge/${d}-${v}?style=flat&logo=${g}`;return`<a href="${u}" target="_blank" rel="noopener"><img src="${m}" alt="${i.name}" /></a>`}else{const d=encodeURIComponent(i.name),g=encodeURIComponent(i.logo),v=encodeURIComponent(i.color),m=`https://img.shields.io/badge/${d}-${v}?style=flat&logo=${g}`;return`<a href="${u}" target="_blank" rel="noopener"><img src="${m}" alt="${i.name}" /></a>`}}catch(l){return console.warn("Error converting account link:",l),a}})}),r}const _s="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200 shadow-sm hover:bg-blue-200 transition-colors duration-200",kt=/^\d+\.\s/;function js(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function fn(e,t){return`<li class="ml-4 mb-2 flex items-start"><span class="mr-2 text-blue-500">${t}</span><span>${Me(e)}</span></li>`}function Qn(e){return e.replace(/\*\*([^*]+)\*\*/g,'<strong class="font-bold">$1</strong>').replace(new RegExp("(?<!\\*)\\*([^*]+)\\*(?!\\*)","g"),'<em class="italic">$1</em>').replace(/`([^`]+)`/g,`<code class="${_s}">$1</code>`)}function Me(e){return Qn(e.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 hover:underline" target="_blank" rel="noopener">$1</a>'))}function Os(e){var s;const t=e.trim().split(`
`);let n="",r=0;for(;r<t.length;){const i=t[r].trim();if(i==="---"){n+='<hr class="my-6 border-t border-gray-200">',r++;continue}if(i.startsWith("```")){let o="";for(r++;r<t.length;){const l=t[r];if(l.trim()==="```"||l.trim().startsWith("```"))break;o+=l+`
`,r++}const a=js(o.trim());n+=`<div class="my-6 bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden"><pre class="p-4 overflow-x-auto bg-gray-50"><code class="text-sm text-gray-800 font-mono leading-6 whitespace-pre-wrap">${a}</code></pre></div>`,r<t.length&&r++;continue}if(i.startsWith("> ")){let o="";for(;r<t.length&&t[r].trim().startsWith("> ");)o+=t[r].trim().substring(2)+" ",r++;n+=`<blockquote class="my-4 pl-4 border-l-4 border-blue-500 bg-blue-50 py-3 pr-4 rounded-r-lg"><p class="text-gray-700 italic">${Me(o.trim())}</p></blockquote>`;continue}if(kt.test(i)){let o=1;for(;r<t.length&&kt.test(t[r].trim());){const a=t[r].trim().replace(kt,"");n+=fn(a,`${o}.`),o++,r++}continue}if(i.startsWith("- ")){const o=i.substring(2);n+=fn(o,"•"),r++;continue}if(i.includes("|")&&((s=t[r+1])!=null&&s.includes("---"))){const o=i.split("|").map(a=>a.trim()).filter(a=>a);if(t[r+1].includes("---")){for(n+='<div class="overflow-x-auto my-4"><table class="min-w-full bg-white border border-gray-200 rounded-lg shadow-sm"><thead class="bg-gray-50"><tr>',o.forEach(a=>{n+=`<th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200">${Me(a)}</th>`}),n+='</tr></thead><tbody class="divide-y divide-gray-200">',r+=2;r<t.length&&t[r].trim().includes("|");){const a=t[r].trim().split("|").map(l=>l.trim()).filter(l=>l);a.length>0&&(n+='<tr class="hover:bg-gray-50">',a.forEach(l=>{n+=`<td class="px-4 py-3 text-sm text-gray-900 border-b border-gray-200">${Me(l)}</td>`}),n+="</tr>"),r++}n+="</tbody></table></div>";continue}}i?n+=Me(i)+"<br>":n+="<br>",r++}return n}function Ps(e){const t=/- \[([^\]]+)\]\((https:\/\/(?:speakerdeck\.com\/player\/|www\.docswell\.com\/slide\/[^/]+\/embed?)[^)]+)\)/g;return e.replace(t,(n,r,s)=>{let i=r,o="";return s.includes("speakerdeck.com")?(i=r.replace(/\s*\\?\s*-\s*Speaker\s*Deck\s*$/i,""),o="speakerdeck-iframe"):s.includes("docswell.com")&&(i=r.replace(/\s*\|\s*ドクセル\s*$/i,""),o="docswell-iframe"),`<iframe class="${o}" frameborder="0" src="${s}" title="${i}" allowfullscreen="true" style="border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px; width: 100%; height: auto; aspect-ratio: 560 / 315;" data-ratio="1.7777777777777777"></iframe>`})}function Ls(e){const t=/- \[([^\]]+)\]\((https:\/\/www\.youtube\.com\/embed\/[^\)]+)\)/g,n=/\[([^\]]+)\]\((https:\/\/www\.youtube\.com\/embed\/[^\)]+)\)/g,r="width: 100%; height: auto; aspect-ratio: 560 / 315; border: 0px; background: padding-box padding-box rgba(0, 0, 0, 0.1); margin: 0px; padding: 0px; border-radius: 6px; box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 40px;";let s=e.replace(t,(i,o,a)=>`<iframe style="${r}" src="${a}" title="${o}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`);return s=s.replace(n,(i,o,a)=>`<iframe style="${r}" src="${a}" title="${o}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`),s}function Ns(e){const t=/- \[([^\]]+)\]\((https:\/\/(?:dev\.classmethod\.jp\/articles\/[^)]+|qiita\.com\/[^\/]+\/items\/[^)]+|zenn\.dev\/[^\/]+\/articles\/[^)]+))\)/g;return e.replace(t,(n,r,s)=>`<iframe class="hatenablogcard" style="width:100%;height:155px;" title="${r}" src="https://hatenablog-parts.com/embed?url=${encodeURIComponent(s)}" width="300" height="150" frameborder="0" scrolling="no"></iframe>`)}function $s(e){const t=e.split(`
`),n=[];let r=null,s=0;for(const i of t){const o=i.match(/^(#+)\s+(.+)/);if(o){r&&n.push(r);const a=o[1].length;let l=o[2];l=l.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 hover:underline" target="_blank" rel="noopener">$1</a>'),r={title:l,content:"",level:a,id:`section-${++s}`}}else r?r.content+=i+`
`:n.length===0&&(r={title:"",content:i+`
`,level:0,id:"intro"})}return r&&n.push(r),n}function $e(e,t){if(!e.trim())return"";let n=Ls(e);return n=Ps(n),n=Ns(n),n=Rs(n),n=Os(n),Qn(n)}const Ds="component-name",Ts="component-export",Is="data-serialized-props",Ms="data-hono-template",he="__importing_islands",It=Symbol(),Mt=Symbol(),Rt=zt({[It]:!1,[Mt]:!1}),Zn=e=>Array.isArray(e)?e.some(Zn):typeof e=="object"&&Jr(e),Qt=({componentName:e,componentExport:t,Component:n,props:r})=>{const s={},i={};for(const a in r){const l=r[a];Zn(l)?s[a]=l:i[a]=l}const o=we(Rt);return o[Mt]||!o[It]?p("honox-island",{[Ds]:e,[Ts]:t||void 0,[Is]:JSON.stringify(i),children:[p(Rt.Provider,{value:{...o,[It]:!0},children:p(n,{...r})}),Object.entries(s).map(([a,l])=>$t("template",{[Ms]:a,key:a},p(Rt.Provider,{value:{...o,[Mt]:!0},children:l})))]}):p(n,{...r})},Jn=({title:e,level:t,className:n})=>{const s=`${(i=>{switch(i){case 2:return"text-2xl font-bold text-gray-800";case 3:return"text-xl font-semibold text-blue-900";case 4:return"text-lg font-semibold text-gray-800";default:return"text-3xl font-bold text-gray-900"}})(t)} ${n||""}`;return p("h2",{className:s,dangerouslySetInnerHTML:{__html:e}})},Hs=({title:e,level:t,isOpen:n,onClick:r})=>p("button",{onClick:r,className:"flex items-center gap-3 w-full text-left p-4 hover:bg-gray-50 transition-colors rounded-lg",children:[p("span",{className:`transform transition-transform text-gray-500 ${n?"rotate-90":""}`,children:"▶"}),p(Jn,{title:e,level:t})]}),Ws=function({title:e,content:t,level:n,defaultOpen:r=!1}){const[s,i]=Ue(r);return n!==4?p("div",{className:"mb-6",children:[p(Jn,{title:e,level:n,className:"mb-4"}),p("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:$e(t)}})]}):p("div",{className:"mb-6 border border-gray-200 rounded-lg",children:[p(Hs,{title:e,level:n,isOpen:s,onClick:()=>i(!s)}),s&&p("div",{className:"px-4 pb-4 border-t border-gray-100",children:p("div",{className:"prose max-w-none pt-3",dangerouslySetInnerHTML:{__html:$e(t)}})})]})},Fs=function(e){return p(Qt,{componentName:"/app/islands/CollapsibleSection.tsx",Component:Ws,props:e})},Bs=e=>{const[t,n]=Ue({}),[r,s]=Ue(!1);return un(()=>{const a={};e.forEach(l=>{a[l.id]=!1}),n(a)},[e]),un(()=>{const a=Object.values(t).filter(Boolean).length;s(a===e.length&&e.length>0)},[t,e.length]),{toggleStates:t,allOpen:r,handleToggle:a=>{n(l=>({...l,[a]:!l[a]}))},handleBulkToggle:()=>{const a=!r,l={};e.forEach(u=>{l[u.id]=a}),n(l),s(a)}}},zs=({allOpen:e,onClick:t})=>p("button",{onClick:t,className:`px-3 py-1 text-sm rounded-md transition-colors flex items-center gap-2 ${e?"bg-red-100 hover:bg-red-200 text-red-700":"bg-blue-100 hover:bg-blue-200 text-blue-700"}`,children:[p("span",{className:"text-xs",children:e?"全て閉じる":"全て開く"}),p("span",{className:`transform transition-transform ${e?"rotate-180":""}`,children:"▼"})]}),qs=({title:e,hasSubsections:t,allOpen:n,onBulkToggle:r})=>p("div",{className:"flex items-center justify-between mb-4",children:[p("h3",{className:"text-xl font-semibold text-blue-900",dangerouslySetInnerHTML:{__html:e}}),t&&p(zs,{allOpen:n,onClick:r})]}),Us=({subsection:e,isOpen:t,onToggle:n})=>p("div",{className:"mb-4 border border-gray-200 rounded-lg",children:[p("button",{onClick:n,className:"flex items-center gap-3 w-full text-left p-4 hover:bg-gray-50 transition-colors rounded-lg",children:[p("span",{className:`transform transition-transform text-gray-500 ${t?"rotate-90":""}`,children:"▶"}),p("span",{className:"text-lg font-semibold text-gray-800",dangerouslySetInnerHTML:{__html:e.title}})]}),t&&p("div",{className:"px-4 pb-4 border-t border-gray-100",children:p("div",{className:"prose max-w-none pt-3",dangerouslySetInnerHTML:{__html:$e(e.content,e.title)}})})]}),Vs=function({section:e,subsections:t}){const{toggleStates:n,allOpen:r,handleToggle:s,handleBulkToggle:i}=Bs(t);return p("div",{className:"mb-8",children:[p(qs,{title:e.title,hasSubsections:t.length>0,allOpen:r,onBulkToggle:i}),e.content.trim()&&p("div",{className:"prose max-w-none mb-6",dangerouslySetInnerHTML:{__html:$e(e.content,e.title)}}),t.map(o=>p(Us,{subsection:o,isOpen:n[o.id]||!1,onToggle:()=>s(o.id)},o.id))]})},Gs=function(e){return p(Qt,{componentName:"/app/islands/SectionGroup.tsx",Component:Vs,props:e})},Ks=()=>p("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[p("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Qs=()=>p("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:p("path",{d:"M3 3h18v18H3V3zm16 16V5H5v14h14zM7 7h10v2H7V7zm0 4h10v2H7v-2zm0 4h7v2H7v-2z"})}),Zs=()=>p("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:p("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})}),dn=({type:e,isLoading:t,onClick:n})=>{const r=e==="pdf";return p("button",{onClick:n,disabled:t,className:`flex items-center justify-center gap-2 px-6 py-3 text-white font-medium rounded-lg shadow-md transition-colors duration-200 w-[280px] ${r?"bg-orange-500 hover:bg-orange-600 disabled:bg-orange-300":"bg-slate-500 hover:bg-slate-600 disabled:bg-slate-300"}`,children:t?p(Pe,{children:[p(Ks,{}),p("span",{children:"ダウンロード中..."})]}):p(Pe,{children:[r?p(Zs,{}):p(Qs,{}),p("span",{children:r?"PDFをダウンロード":"Markdownをダウンロード"})]})})},Js=function(){const[e,t]=Ue(null),n=async r=>{t(r);try{const s=r==="markdown"?"README.md":"README.pdf",i=`/aboutme/${s}`,o=document.createElement("a");o.href=i,o.download=s,document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(s){console.error("Download failed:",s)}finally{t(null)}};return p("div",{className:"flex flex-col sm:flex-row gap-3 items-center justify-center mb-8",children:[p(dn,{type:"markdown",isLoading:e==="markdown",onClick:()=>n("markdown")}),p(dn,{type:"pdf",isLoading:e==="pdf",onClick:()=>n("pdf")})]})},Xs=function(e){return p(Qt,{componentName:"/app/islands/DownloadSection.tsx",Component:Js,props:e})},Ys=`更新日: 2025/6/16

## 基本情報

### プロフィール

| 項目     | 内容                         |
| -------- | ---------------------------- |
| 氏名     | 池田 晃尚（いけだ あきひさ） |
| 生年月日 | 1995 年 3 月 8 日            |
| 居住地   | 東京都                       |

### アカウント

- [SpeakerDeck](https://speakerdeck.com/akihisaikeda)
- [Qiita](https://qiita.com/akkii__)
- [X](https://x.com/akikii__)

## 業務スキル

### クラウドアーキテクチャ設計

\`\`\`txt
AWS Well-Architected Framework を意識した設計・構築・運用経験。サーバーレスアーキテクチャ、ネットワーク設計、データベース構築、ストレージ・CDN 活用、セキュリティ管理、IaC（AWS CDK, CloudFormation）、CI/CD パイプライン構築、監視設計など、多岐にわたる AWS サービスの利用経験。ガバメントクラウド on AWS の要求事項に関する知見。セキュリティ設計・レビュー、脆弱性診断対応、コスト最適化提案。
\`\`\`

### サーバーレスバックエンド開発

\`\`\`txt
Python（Flask, Pytest, Pydantic, boto3）を用いた WebAPI およびバッチ処理の設計・開発・テスト。オブジェクト指向プログラミング（OOP）の導入によるコード品質・保守性・開発効率の向上実績。
\`\`\`

### プロジェクト推進・課題解決

\`\`\`txt
アジャイル（スクラム）開発経験。コンサルティングを通じた顧客課題のヒアリング、分析、改善提案、実装支援。技術的負債の解消。開発チームのコミュニケーション改善、ナレッジマネジメント体制構築。論理的思考力に基づくトラブルシューティング能力。
\`\`\`

## 技術スキル

実業務で使用した技術のみ列挙します。

### AWS

\`ACM\` \`API Gateway\` \`Athena\` \`Chatbot\` \`CloudFront\` \`CloudShell\` \`CloudTrail\` \`CloudWatch(Alarm, Logs, Dashboard)\` \`CodeArtifact\` \`CodeBuild\` \`CodeCommit\` \`CodeDeploy\` \`CodePipeline\` \`CodeStar Connect\` \`Cognito\` \`Config\` \`Data Firehose\` \`DataSync\` \`DynamoDB\` \`EC2\` \`ECR\` \`ECS(Fargate)\` \`EFS\` \`ELB(ALB・NLB)\` \`EventBridge\` \`Glue\` \`IAM\` \`Infrastructure Composer\` \`KMS\` \`Lambda\` \`QuickSight\` \`RDS(Aurora for PostgreSQL, Aurora for MySQL)\` \`Redshift\` \`Route53\` \`S3\` \`Secrets Manager\` \`SES\` \`SNS\` \`SQS\` \`Step Functions\` \`Systems Manager(Parameter Store, Session Manager)\` \`TransfarFamily\` \`Trusted Advisor\` \`VPC\` \`WAF\`

### IaC

\`CloudFormation\` \`SAM\` \`CDK\`

### OS

\`Linux\` \`Windows\`

### Programming Language

\`Python\` \`JavaScript\` \`TypeScript\`

### Database

\`DynamoDB\` \`MySQL\` \`PostgreSQL\`

### Other

\`Docker\` \`DevContainer\`

## 保有称号

### 資格

| 取得日  | 資格名                                              |
| ------- | --------------------------------------------------- |
| 2017/8  | 普通自動車第一種運転免許                            |
| 2020/7  | JDLA Deep Learning for GENERAL 2020#2               |
| 2021/7  | Python 3 エンジニア認定基礎試験                     |
| 2021/8  | Python 3 エンジニア認定データ分析実践試験           |
| 2022/5  | Oracle Certified Java Programmer, Silver SE 11      |
| 2022/7  | AWS Certified Cloud Practitioner                    |
| 2022/11 | Python 3 エンジニア認定実践試験                     |
| 2022/11 | 応⽤情報技術者試験                                  |
| 2023/3  | AWS Certified Solutions Architect - Associate       |
| 2023/4  | AWS Certified Developer - Associate                 |
| 2023/4  | AWS Certified SysOps Administrator - Associate      |
| 2023/5  | AWS Certified Solutions Architect - Professional    |
| 2023/6  | AWS Certified Security - Specialty                  |
| 2023/9  | AWS Certified DevOps Engineer - Professional        |
| 2023/9  | AWS Certified Database - Specialty                  |
| 2023/11 | AWS Certified Data Analytics - Specialty            |
| 2023/11 | AWS Certified: SAP on AWS - Specialty               |
| 2023/11 | AWS Certified Machine Learning - Specialty          |
| 2023/12 | AWS Certified Advanced Networking - Specialty       |
| 2024/7  | ビジネスマネジャー検定試験                          |
| 2024/7  | AWS Certified Data Engineer - Associate             |
| 2024/11 | メンタルヘルス・マネジメント検定 Ⅲ 種               |
| 2024/11 | メンタルヘルス・マネジメント検定 Ⅱ 種               |
| 2025/3  | AWS Certified Machine Learning Engineer - Associate |
| 2025/3  | AWS Certified AI Practitioner                       |

## 職務経歴

### ALH 株式会社 (2022/2~現在)

**事業内容**

\`\`\`txt
システムエンジニアリングサービス、IT コンサルティング、その他情報システム関連事業
\`\`\`

#### 行政向けシステムの提案書作成

- 【期間】: 2025/4 ～ 現在
- 【プロジェクト概要】: 新規行政向けシステムの提案（ガバメントクラウド on AWS）。
- 【担当業務】: インフラ担当としての提案書作成、国の要求事項に基づく仕様検討、アーキテクチャ検討、コスト見積もり、プライムベンダーとの技術折衝。

#### 行政向け Web システムのクラウドコンサルティング

- 【期間】: 2024/9 ～ 2025/3
- 【プロジェクト概要】: 企業から行政へのオンライン申請を実現する BtoG Web システムの AWS 環境改善。
- 【担当業務】: IaC(CDK)環境の解析と修復、リリース手順書の抜本的整備、IAM ロール権限整理、開発チームのコミュニケーション・プロセス改善、トラブルシューティング、システムアーキテクチャ刷新提案。

#### Web システムのクラウドコンサルティング

- 【期間】: 2023/9 ～ 2024/9 (月 20 時間程度。一部期間、他プロジェクトと並行)
- 【プロジェクト概要】: メディア分析・評価 Web アプリケーションの AWS 環境改善。
- 【担当業務】: アーキテクチャ改善提案、セキュリティレビュー、脆弱性診断対応、Python による Slack 通知システム開発。

#### ポイントサイトのバックエンドシステム開発

- 【期間】: 2022/9 ～ 2024/8
- 【プロジェクト概要】: AWS 上に構築されたポイントサイトのバックエンドシステム（WebAPI、バッチ）の設計・開発・テスト・リリース。アジャイル（スクラム）開発。
- 【担当業務】: 設計からリリースまでの一連の工程を担当。IaC(AWS CDK)改善によるデプロイ時間約 30%削減、Step Functions による Lambda レスバッチ設計、ログ設計見直しによるログ量約 90%削減、Python(Flask)と Pydantic を用いた OOP 導入による新規 API 開発期間約 40%短縮、運用ダッシュボード設計（CloudWatch Dashboard）、Sphinx によるリリース手順書標準化など、多岐にわたる改善を実施。

#### エンタメ業界 DWH マイグレーション

- 【期間】: 2022/5 ～ 2022/8
- 【プロジェクト概要】: 大手エンタメ企業の DWH（Vertica）から Amazon Redshift への移行。
- 【担当業務】: データ移行、既存ジョブ内 SQL の Redshift 用への手動変換。

- 教育系 Web システムのテスト
  - 【期間】: 2022/4
  - 【プロジェクト概要】: 学生向け語学試験 Web システムのテスト業務。
  - 【担当業務】: テスト設計書に基づくテスト項目実行、マルチデバイスでのテスト実施、不具合報告。

#### その他取り組み

- オウンドメディア運用による技術ブランディング・採用広報支援:
  - 会社の知名度向上とエンジニア採用の応募率増加を目的とし、広報チームと連携して技術ブログのコンテンツ戦略立案から執筆まで担当。
  - 当初は会社の強みである AWS 認定資格の解説記事でターゲット層へ訴求。その後、制作負荷と閲覧数の課題を分析し、現在はエンジニアが最新技術などを自由に発信し、SNS も活用するスタイルへ転換。ブログの活性化と継続的な情報発信の仕組み構築に貢献。

### 川崎油工株式会社 (2016/4 ～ 2022/1)

**事業内容**

\`\`\`txt
油圧プレス機の製造および販売
\`\`\`

**役割**

- 油圧プレス機の電気設計
- 油圧プレス機の制御プログラム開発（産業用組込 PLC、タッチパネル）
- 油圧プレス機の試運転調整

## 業務外活動

### ブログ投稿

以下では執筆したブログを記載します。

#### ブログ一覧

| 日付       | 記事                                                                                                                                                             | 媒体                                            |
| ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------- |
| 2025.5.30  | [【Vibe Coding】Amazon Q CLI でゲームを作ってみた【すべてお任せ！】](https://cantabile.alhinc.jp/technology/10854/)                                              | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2025.5.19  | [【アップデート】Amazon Q Developer CLI の画像読込機能を使ってみた](https://cantabile.alhinc.jp/technology/10832/)                                               | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2025.3.30  | [【Langfuse 入門ハンズオンの後に】RAG を利用して生成 AI アプリの評価を向上させよう【非公式続編】](https://qiita.com/akkii__/items/edb55c6106b678af5048)          | [Qiita (@akkii\\_\\_)](https://qiita.com/akkii__) |
| 2025.3.7   | [【アップデート】AWS Step Functions Workflow Studio が VSCode で利用可能になったので試してみた](https://cantabile.alhinc.jp/technology/10736/)                   | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2025.2.21  | [SES エンジニアが AWS 認定を取得する目的を考えてみる](https://note.alhinc.jp/n/nf5f00bb72eb2)                                                                    | [ALH 株式会社 note](https://note.alhinc.jp/)    |
| 2025.2.17  | [【AWS】ネットワーク接続経路の不備を VPC Reachability Analyzer を使用して特定しよう！](https://note.alhinc.jp/n/n6e59b5dc1901)                                   | [ALH 株式会社 note](https://note.alhinc.jp/)    |
| 2025.1.14  | [【初心者向け】 Amazon ECS の基本概念をわかりやすく解説してみた](https://cantabile.alhinc.jp/technology/10683/)                                                  | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2024.11.5  | [【合格者が監修】AWS DEA とは？試験の概要と対策、合格するための勉強法も解説!](https://cantabile.alhinc.jp/technology/10480/)                                     | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2024.10.22 | [【合格者が監修】AWS MLS とは？試験の概要と対策、合格するための勉強法も解説！](https://cantabile.alhinc.jp/technology/10477/)                                    | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2024.10.15 | [【合格者が監修】AWS SCS とは？試験の概要と対策、合格するための勉強法も解説!](https://cantabile.alhinc.jp/technology/10454/)                                     | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2024.10.2  | [【合格者が監修】AWS ANS とは？試験の概要と対策、合格するための勉強法も解説！](https://cantabile.alhinc.jp/technology/10438/)                                    | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2024.8.16  | [【合格者が監修】AWS Certified Developer - Associate (DVA-C02)とは？試験の概要と対策、合格するための勉強法も解説](https://cantabile.alhinc.jp/technology/10250/) | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2024.8.9   | [【合格者が監修】AWS DOP とは？試験の概要と対策、合格するための勉強法も解説](https://cantabile.alhinc.jp/technology/10188/)                                      | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2024.8.2   | [【合格者が監修】AWS 認定資格 SOA とは？試験の概要と対策、合格するための勉強法も解説](https://cantabile.alhinc.jp/technology/10131/)                             | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2024.7.18  | [【合格者が監修】AWS 認定資格 SAA とは？試験の概要と対策、合格するための勉強法も解説](https://cantabile.alhinc.jp/technology/9976/)                              | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2024.7.18  | [【合格者が監修】AWS 認定資格 CLF とは？試験の概要と対策、合格するための勉強法も解説](https://cantabile.alhinc.jp/technology/9978/)                              | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2024.7.18  | [【合格者が監修】AWS 認定資格 SAP とは？試験の概要と対策、合格するための勉強法も解説](https://cantabile.alhinc.jp/technology/9979/)                              | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2024.4.26  | [【自動化】文章校正を自動化するために textlint を導入してみた](https://note.alhinc.jp/n/nd401100b6481)                                                           | [ALH 株式会社 note](https://note.alhinc.jp/)    |
| 2024.2.26  | [【AWS】アンチパターンから学ぶ見やすい構成図の書き方](https://note.alhinc.jp/n/ndacf2588aa93)                                                                    | [ALH 株式会社 note](https://note.alhinc.jp/)    |
| 2024.2.22  | [【AWS CDK】 CloudWatch アラームを Chatbot から Slack に連携してみた](https://note.alhinc.jp/n/n94c047d31e12)                                                    | [ALH 株式会社 note](https://note.alhinc.jp/)    |
| 2024.2.21  | [Visual Studio Code Dev Container で AWS CDK の開発環境を作ってみた](https://note.alhinc.jp/n/n55f7b9ba4b93)                                                     | [ALH 株式会社 note](https://note.alhinc.jp/)    |
| 2023.7.29  | [ほぼゼロコスト！AWS と Slackbot を使った勤務管理アプリを開発してみた](https://qiita.com/akkii__/items/b01f4fdd5fa13ea04d32)                                     | [Qiita (@akkii\\_\\_)](https://qiita.com/akkii__) |
| 2023.7.27  | [【AWS】Step Functions を使って DynamoDB テーブルを操作してみよう！【ハンズオン】](https://cantabile.alhinc.jp/technology/7412/)                                 | [CANTABILE](https://cantabile.alhinc.jp/)       |
| 2023.3.25  | [logging を使って独自にカスタマイズした Lambda 実行ログを残す](https://qiita.com/akkii__/items/a57a4acf7422b5c323a6)                                             | [Qiita (@akkii\\_\\_)](https://qiita.com/akkii__) |
| 2023.2.8   | [応用情報技術者試験合格への道！〜私の攻略法をお伝えします〜](https://note.alhinc.jp/n/n40e6c89c909f)                                                             | [ALH 株式会社 note](https://note.alhinc.jp/)    |
| 2022.11.6  | [【IaC】AWS CloudFormation とは？](https://qiita.com/akkii__/items/c8f0116044a2b14847f2)                                                                         | [Qiita (@akkii\\_\\_)](https://qiita.com/akkii__) |
| 2022.7.19  | [【React】そもそも React とは？ #初心者](https://qiita.com/akkii__/items/6a9c31a80ddbdfa5f6b4)                                                                   | [Qiita (@akkii\\_\\_)](https://qiita.com/akkii__) |

### イベント登壇

以下では登壇したイベントの資料を記載します。

#### 登壇資料一覧

| 日付      | 資料                                                                                                                                                                                                            | 形式      | イベント                                                                                                                                       |
| --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| 2025.5.27 | [AI 生成記事をリライトし満足度を上げようとしたら大変だった話](https://speakerdeck.com/akihisaikeda/aisheng-cheng-ji-shi-woriraitosiman-zu-du-woshang-keyoutositarada-bian-tatutahua)                        | LT(5 分)  | [めぐろ LT #27 「あなたの苦労話を聞かせてください」](https://meguro-lt.connpass.com/event/344505/)                                             |
| 2025.4.17 | [スモールスタートで始めるための Lambda× モノリス（Lambdalith）](https://speakerdeck.com/akihisaikeda/sumorusutatodeshi-merutamenolambdaxmonorisu)                                                               | LT(5 分)  | [JAWS-UG 彩の国埼玉支部 #0 ～新たなコンセプト、新たなメンバーで ゼロから創設！～](https://jawsug-sainokuni-saitama.connpass.com/event/349202/) |
| 2025.3.26 | [Amazon Q Developer CLI と一緒に最小権限の原則を守った IAM ポリシーを作ろう！](https://speakerdeck.com/akihisaikeda/amazon-q-developer-clito-xu-nizui-xiao-quan-xian-noyuan-ze-woshou-tutaiamhorisiwozuo-rou) | LT(10 分) | [JAWS-UG 初心者支部#63 AWS Expert 視聴後の LT 会！](https://jawsug-bgnr.connpass.com/event/346386/)                                            |
| 2025.3.5  | [Amazon Bedrock マルチエージェントコラボレーションを諦めて LangGraph に入門してみた](https://speakerdeck.com/akihisaikeda/amazon-bedrockmarutiezientokoraboresiyonwodi-metelanggraphniru-men-sitemita)          | LT(10 分) | 　[生成 AI 奮闘選手権 ~KDDI x YUMEMI.grow~](https://yumemi.connpass.com/event/344395/)                                                         |
| 2025.2.12 | [Amazon Bedrock Agents で始める サーバーレス AI エージェント](https://speakerdeck.com/akihisaikeda/amazon-bedrock-agentsdeshi-meru-sabaresuaieziento)                                                           | LT(10 分) | [Serverless LT 初心者向け LT 大会 #51](https://serverlesslt.connpass.com/event/343012/)                                                        |
`;function ei(){const e=$s(Ys),n=(r=>{const s=[];let i=null,o=[];return r.forEach(a=>{!a.title&&a.level===0?s.push({type:"intro",section:a}):a.level===1||a.level===2?(i&&(s.push({type:"h3-group",section:i,subsections:o}),i=null,o=[]),s.push({type:"regular",section:a})):a.level===3?(i&&s.push({type:"h3-group",section:i,subsections:o}),i=a,o=[]):a.level===4&&i?o.push(a):(i&&(s.push({type:"h3-group",section:i,subsections:o}),i=null,o=[]),s.push({type:"regular",section:a}))}),i&&s.push({type:"h3-group",section:i,subsections:o}),s})(e);return p("div",{className:"min-h-screen bg-gray-50",children:p("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[p("header",{className:"text-center mb-12",children:[p("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"職務経歴書"}),p(Xs,{})]}),p("main",{className:"bg-white rounded-lg shadow-lg p-8",children:n.map((r,s)=>{if(r.type==="intro")return p("div",{className:"mb-8",dangerouslySetInnerHTML:{__html:`<p class="mb-4">${$e(r.section.content)}</p>`}},r.section.id);if(r.type==="h3-group")return p(Gs,{section:r.section,subsections:r.subsections||[]},r.section.id);{const i=$e(r.section.content);return p(Fs,{title:r.section.title,content:i,level:r.section.level,defaultOpen:r.section.level<=2},r.section.id)}})}),p("footer",{className:"text-center mt-12 text-gray-500",children:p("p",{children:"Built with HonoX on GitHub Pages"})})]})})}const ti=!0,ni=Object.freeze(Object.defineProperty({__proto__:null,__importing_islands:ti,default:ei},Symbol.toStringTag,{value:"Module"}));var pn=(e,t,n)=>(r,s)=>{let i=-1;return o(0);async function o(a){if(a<=i)throw new Error("next() called multiple times");i=a;let l,u=!1,h;if(e[a]?(h=e[a][0][0],r.req.routeIndex=a):h=a===e.length&&s||void 0,h)try{l=await h(r,()=>o(a+1))}catch(f){if(f instanceof Error&&t)r.error=f,l=await t(f,r),u=!0;else throw f}else r.finalized===!1&&n&&(l=await n(r));return l&&(r.finalized===!1||u)&&(r.res=l),r}},ri=async(e,t=Object.create(null))=>{const{all:n=!1,dot:r=!1}=t,i=(e instanceof sr?e.raw.headers:e.headers).get("Content-Type");return i!=null&&i.startsWith("multipart/form-data")||i!=null&&i.startsWith("application/x-www-form-urlencoded")?si(e,{all:n,dot:r}):{}};async function si(e,t){const n=await e.formData();return n?ii(n,t):{}}function ii(e,t){const n=Object.create(null);return e.forEach((r,s)=>{t.all||s.endsWith("[]")?oi(n,s,r):n[s]=r}),t.dot&&Object.entries(n).forEach(([r,s])=>{r.includes(".")&&(ai(n,r,s),delete n[r])}),n}var oi=(e,t,n)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(n):e[t]=[e[t],n]:e[t]=n},ai=(e,t,n)=>{let r=e;const s=t.split(".");s.forEach((i,o)=>{o===s.length-1?r[i]=n:((!r[i]||typeof r[i]!="object"||Array.isArray(r[i])||r[i]instanceof File)&&(r[i]=Object.create(null)),r=r[i])})},Xn=e=>{const t=e.split("/");return t[0]===""&&t.shift(),t},li=e=>{const{groups:t,path:n}=ci(e),r=Xn(n);return ui(r,t)},ci=e=>{const t=[];return e=e.replace(/\{[^}]+\}/g,(n,r)=>{const s=`@${r}`;return t.push([s,n]),s}),{groups:t,path:e}},ui=(e,t)=>{for(let n=t.length-1;n>=0;n--){const[r]=t[n];for(let s=e.length-1;s>=0;s--)if(e[s].includes(r)){e[s]=e[s].replace(r,t[n][1]);break}}return e},rt={},mn=(e,t)=>{if(e==="*")return"*";const n=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(n){const r=`${e}#${t}`;return rt[r]||(n[2]?rt[r]=t&&t[0]!==":"&&t[0]!=="*"?[r,n[1],new RegExp(`^${n[2]}(?=/${t})`)]:[e,n[1],new RegExp(`^${n[2]}$`)]:rt[r]=[e,n[1],!0]),rt[r]}return null},Yn=(e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,n=>{try{return t(n)}catch{return n}})}},hi=e=>Yn(e,decodeURI),er=e=>{const t=e.url,n=t.indexOf("/",8);let r=n;for(;r<t.length;r++){const s=t.charCodeAt(r);if(s===37){const i=t.indexOf("?",r),o=t.slice(n,i===-1?void 0:i);return hi(o.includes("%25")?o.replace(/%25/g,"%2525"):o)}else if(s===63)break}return t.slice(n,r)},fi=e=>{const t=er(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},Ce=(e,t,...n)=>(n.length&&(t=Ce(t,...n)),`${(e==null?void 0:e[0])==="/"?"":"/"}${e}${t==="/"?"":`${(e==null?void 0:e.at(-1))==="/"?"":"/"}${(t==null?void 0:t[0])==="/"?t.slice(1):t}`}`),tr=e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;const t=e.split("/"),n=[];let r="";return t.forEach(s=>{if(s!==""&&!/\:/.test(s))r+="/"+s;else if(/\:/.test(s))if(/\?/.test(s)){n.length===0&&r===""?n.push("/"):n.push(r);const i=s.replace("?","");r+="/"+i,n.push(r)}else r+="/"+s}),n.filter((s,i,o)=>o.indexOf(s)===i)},_t=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?rr(e):e):e,nr=(e,t,n)=>{let r;if(!n&&t&&!/[%+]/.test(t)){let o=e.indexOf(`?${t}`,8);for(o===-1&&(o=e.indexOf(`&${t}`,8));o!==-1;){const a=e.charCodeAt(o+t.length+1);if(a===61){const l=o+t.length+2,u=e.indexOf("&",l);return _t(e.slice(l,u===-1?void 0:u))}else if(a==38||isNaN(a))return"";o=e.indexOf(`&${t}`,o+1)}if(r=/[%+]/.test(e),!r)return}const s={};r??(r=/[%+]/.test(e));let i=e.indexOf("?",8);for(;i!==-1;){const o=e.indexOf("&",i+1);let a=e.indexOf("=",i);a>o&&o!==-1&&(a=-1);let l=e.slice(i+1,a===-1?o===-1?void 0:o:a);if(r&&(l=_t(l)),i=o,l==="")continue;let u;a===-1?u="":(u=e.slice(a+1,o===-1?void 0:o),r&&(u=_t(u))),n?(s[l]&&Array.isArray(s[l])||(s[l]=[]),s[l].push(u)):s[l]??(s[l]=u)}return t?s[t]:s},di=nr,pi=(e,t)=>nr(e,t,!0),rr=decodeURIComponent,gn=e=>Yn(e,rr),ke,B,ne,ir,or,Ht,ie,Sn,sr=(Sn=class{constructor(e,t="/",n=[[]]){A(this,ne);x(this,"raw");A(this,ke);A(this,B);x(this,"routeIndex",0);x(this,"path");x(this,"bodyCache",{});A(this,ie,e=>{const{bodyCache:t,raw:n}=this,r=t[e];if(r)return r;const s=Object.keys(t)[0];return s?t[s].then(i=>(s==="json"&&(i=JSON.stringify(i)),new Response(i)[e]())):t[e]=n[e]()});this.raw=e,this.path=t,y(this,B,n),y(this,ke,{})}param(e){return e?k(this,ne,ir).call(this,e):k(this,ne,or).call(this)}query(e){return di(this.url,e)}queries(e){return pi(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;const t={};return this.raw.headers.forEach((n,r)=>{t[r]=n}),t}async parseBody(e){var t;return(t=this.bodyCache).parsedBody??(t.parsedBody=await ri(this,e))}json(){return c(this,ie).call(this,"json")}text(){return c(this,ie).call(this,"text")}arrayBuffer(){return c(this,ie).call(this,"arrayBuffer")}blob(){return c(this,ie).call(this,"blob")}formData(){return c(this,ie).call(this,"formData")}addValidatedData(e,t){c(this,ke)[e]=t}valid(e){return c(this,ke)[e]}get url(){return this.raw.url}get method(){return this.raw.method}get matchedRoutes(){return c(this,B)[0].map(([[,e]])=>e)}get routePath(){return c(this,B)[0].map(([[,e]])=>e)[this.routeIndex].path}},ke=new WeakMap,B=new WeakMap,ne=new WeakSet,ir=function(e){const t=c(this,B)[0][this.routeIndex][1][e],n=k(this,ne,Ht).call(this,t);return n?/\%/.test(n)?gn(n):n:void 0},or=function(){const e={},t=Object.keys(c(this,B)[0][this.routeIndex][1]);for(const n of t){const r=k(this,ne,Ht).call(this,c(this,B)[0][this.routeIndex][1][n]);r&&typeof r=="string"&&(e[n]=/\%/.test(r)?gn(r):r)}return e},Ht=function(e){return c(this,B)[1]?c(this,B)[1][e]:e},ie=new WeakMap,Sn),mi="text/plain; charset=UTF-8",jt=(e,t={})=>{for(const n of Object.keys(t))e.set(n,t[n]);return e},Ve,Ge,J,ye,X,O,P,M,Y,Ke,Re,_e,Qe,Ze,I,W,xn,gi=(xn=class{constructor(e,t){A(this,I);A(this,Ve);A(this,Ge);x(this,"env",{});A(this,J);x(this,"finalized",!1);x(this,"error");A(this,ye,200);A(this,X);A(this,O);A(this,P);A(this,M);A(this,Y,!0);A(this,Ke);A(this,Re);A(this,_e);A(this,Qe);A(this,Ze);x(this,"render",(...e)=>(c(this,Re)??y(this,Re,t=>this.html(t)),c(this,Re).call(this,...e)));x(this,"setLayout",e=>y(this,Ke,e));x(this,"getLayout",()=>c(this,Ke));x(this,"setRenderer",e=>{y(this,Re,e)});x(this,"header",(e,t,n)=>{if(this.finalized&&y(this,M,new Response(c(this,M).body,c(this,M))),t===void 0){c(this,O)?c(this,O).delete(e):c(this,P)&&delete c(this,P)[e.toLocaleLowerCase()],this.finalized&&this.res.headers.delete(e);return}n!=null&&n.append?(c(this,O)||(y(this,Y,!1),y(this,O,new Headers(c(this,P))),y(this,P,{})),c(this,O).append(e,t)):c(this,O)?c(this,O).set(e,t):(c(this,P)??y(this,P,{}),c(this,P)[e.toLowerCase()]=t),this.finalized&&(n!=null&&n.append?this.res.headers.append(e,t):this.res.headers.set(e,t))});x(this,"status",e=>{y(this,Y,!1),y(this,ye,e)});x(this,"set",(e,t)=>{c(this,J)??y(this,J,new Map),c(this,J).set(e,t)});x(this,"get",e=>c(this,J)?c(this,J).get(e):void 0);x(this,"newResponse",(...e)=>k(this,I,W).call(this,...e));x(this,"body",(e,t,n)=>typeof t=="number"?k(this,I,W).call(this,e,t,n):k(this,I,W).call(this,e,t));x(this,"text",(e,t,n)=>{if(!c(this,P)){if(c(this,Y)&&!n&&!t)return new Response(e);y(this,P,{})}return c(this,P)["content-type"]=mi,typeof t=="number"?k(this,I,W).call(this,e,t,n):k(this,I,W).call(this,e,t)});x(this,"json",(e,t,n)=>{const r=JSON.stringify(e);return c(this,P)??y(this,P,{}),c(this,P)["content-type"]="application/json",typeof t=="number"?k(this,I,W).call(this,r,t,n):k(this,I,W).call(this,r,t)});x(this,"html",(e,t,n)=>(c(this,P)??y(this,P,{}),c(this,P)["content-type"]="text/html; charset=UTF-8",typeof e=="object"?$n(e,Pn.Stringify,!1,{}).then(r=>typeof t=="number"?k(this,I,W).call(this,r,t,n):k(this,I,W).call(this,r,t)):typeof t=="number"?k(this,I,W).call(this,e,t,n):k(this,I,W).call(this,e,t)));x(this,"redirect",(e,t)=>(c(this,O)??y(this,O,new Headers),c(this,O).set("Location",String(e)),this.newResponse(null,t??302)));x(this,"notFound",()=>(c(this,_e)??y(this,_e,()=>new Response),c(this,_e).call(this,this)));y(this,Ve,e),t&&(y(this,X,t.executionCtx),this.env=t.env,y(this,_e,t.notFoundHandler),y(this,Ze,t.path),y(this,Qe,t.matchResult))}get req(){return c(this,Ge)??y(this,Ge,new sr(c(this,Ve),c(this,Ze),c(this,Qe))),c(this,Ge)}get event(){if(c(this,X)&&"respondWith"in c(this,X))return c(this,X);throw Error("This context has no FetchEvent")}get executionCtx(){if(c(this,X))return c(this,X);throw Error("This context has no ExecutionContext")}get res(){return y(this,Y,!1),c(this,M)||y(this,M,new Response("404 Not Found",{status:404}))}set res(e){if(y(this,Y,!1),c(this,M)&&e){e=new Response(e.body,e);for(const[t,n]of c(this,M).headers.entries())if(t!=="content-type")if(t==="set-cookie"){const r=c(this,M).headers.getSetCookie();e.headers.delete("set-cookie");for(const s of r)e.headers.append("set-cookie",s)}else e.headers.set(t,n)}y(this,M,e),this.finalized=!0}get var(){return c(this,J)?Object.fromEntries(c(this,J)):{}}},Ve=new WeakMap,Ge=new WeakMap,J=new WeakMap,ye=new WeakMap,X=new WeakMap,O=new WeakMap,P=new WeakMap,M=new WeakMap,Y=new WeakMap,Ke=new WeakMap,Re=new WeakMap,_e=new WeakMap,Qe=new WeakMap,Ze=new WeakMap,I=new WeakSet,W=function(e,t,n){if(c(this,Y)&&!n&&!t&&c(this,ye)===200)return new Response(e,{headers:c(this,P)});if(t&&typeof t!="number"){const s=new Headers(t.headers);c(this,O)&&c(this,O).forEach((o,a)=>{a==="set-cookie"?s.append(a,o):s.set(a,o)});const i=jt(s,c(this,P));return new Response(e,{headers:i,status:t.status??c(this,ye)})}const r=typeof t=="number"?t:c(this,ye);c(this,P)??y(this,P,{}),c(this,O)??y(this,O,new Headers),jt(c(this,O),c(this,P)),c(this,M)&&(c(this,M).headers.forEach((s,i)=>{var o,a;i==="set-cookie"?(o=c(this,O))==null||o.append(i,s):(a=c(this,O))==null||a.set(i,s)}),jt(c(this,O),c(this,P))),n??(n={});for(const[s,i]of Object.entries(n))if(typeof i=="string")c(this,O).set(s,i);else{c(this,O).delete(s);for(const o of i)c(this,O).append(s,o)}return new Response(e,{status:r,headers:c(this,O)})},xn),L="ALL",yi="all",vi=["get","post","put","delete","options","patch"],ar="Can not add a route since the matcher is already built.",lr=class extends Error{},bi=e=>e.text("404 Not Found",404),yn=(e,t)=>{if("getResponse"in e){const n=e.getResponse();return t.newResponse(n.body,n)}return console.error(e),t.text("Internal Server Error",500)},z,N,ur,q,me,ct,ut,wn,cr=(wn=class{constructor(t={}){A(this,N);x(this,"get");x(this,"post");x(this,"put");x(this,"delete");x(this,"options");x(this,"patch");x(this,"all");x(this,"on");x(this,"use");x(this,"router");x(this,"getPath");x(this,"_basePath","/");A(this,z,"/");x(this,"routes",[]);A(this,q,bi);x(this,"errorHandler",yn);x(this,"onError",t=>(this.errorHandler=t,this));x(this,"notFound",t=>(y(this,q,t),this));x(this,"fetch",(t,...n)=>k(this,N,ut).call(this,t,n[1],n[0],t.method));x(this,"request",(t,n,r,s)=>t instanceof Request?this.fetch(n?new Request(t,n):t,r,s):(t=t.toString(),this.fetch(new Request(/^https?:\/\//.test(t)?t:`http://localhost${Ce("/",t)}`,n),r,s)));x(this,"fire",()=>{addEventListener("fetch",t=>{t.respondWith(k(this,N,ut).call(this,t.request,t,void 0,t.request.method))})});[...vi,yi].forEach(i=>{this[i]=(o,...a)=>(typeof o=="string"?y(this,z,o):k(this,N,me).call(this,i,c(this,z),o),a.forEach(l=>{k(this,N,me).call(this,i,c(this,z),l)}),this)}),this.on=(i,o,...a)=>{for(const l of[o].flat()){y(this,z,l);for(const u of[i].flat())a.map(h=>{k(this,N,me).call(this,u.toUpperCase(),c(this,z),h)})}return this},this.use=(i,...o)=>(typeof i=="string"?y(this,z,i):(y(this,z,"*"),o.unshift(i)),o.forEach(a=>{k(this,N,me).call(this,L,c(this,z),a)}),this);const{strict:r,...s}=t;Object.assign(this,s),this.getPath=r??!0?t.getPath??er:fi}route(t,n){const r=this.basePath(t);return n.routes.map(s=>{var o;let i;n.errorHandler===yn?i=s.handler:(i=async(a,l)=>(await pn([],n.errorHandler)(a,()=>s.handler(a,l))).res,i[Pt]=s.handler),k(o=r,N,me).call(o,s.method,s.path,i)}),this}basePath(t){const n=k(this,N,ur).call(this);return n._basePath=Ce(this._basePath,t),n}mount(t,n,r){let s,i;r&&(typeof r=="function"?i=r:(i=r.optionHandler,r.replaceRequest===!1?s=l=>l:s=r.replaceRequest));const o=i?l=>{const u=i(l);return Array.isArray(u)?u:[u]}:l=>{let u;try{u=l.executionCtx}catch{}return[l.env,u]};s||(s=(()=>{const l=Ce(this._basePath,t),u=l==="/"?0:l.length;return h=>{const f=new URL(h.url);return f.pathname=f.pathname.slice(u)||"/",new Request(f,h)}})());const a=async(l,u)=>{const h=await n(s(l.req.raw),...o(l));if(h)return h;await u()};return k(this,N,me).call(this,L,Ce(t,"*"),a),this}},z=new WeakMap,N=new WeakSet,ur=function(){const t=new cr({router:this.router,getPath:this.getPath});return t.errorHandler=this.errorHandler,y(t,q,c(this,q)),t.routes=this.routes,t},q=new WeakMap,me=function(t,n,r){t=t.toUpperCase(),n=Ce(this._basePath,n);const s={path:n,method:t,handler:r};this.router.add(t,n,[r,s]),this.routes.push(s)},ct=function(t,n){if(t instanceof Error)return this.errorHandler(t,n);throw t},ut=function(t,n,r,s){if(s==="HEAD")return(async()=>new Response(null,await k(this,N,ut).call(this,t,n,r,"GET")))();const i=this.getPath(t,{env:r}),o=this.router.match(s,i),a=new gi(t,{path:i,matchResult:o,env:r,executionCtx:n,notFoundHandler:c(this,q)});if(o[0].length===1){let u;try{u=o[0][0][0][0](a,async()=>{a.res=await c(this,q).call(this,a)})}catch(h){return k(this,N,ct).call(this,h,a)}return u instanceof Promise?u.then(h=>h||(a.finalized?a.res:c(this,q).call(this,a))).catch(h=>k(this,N,ct).call(this,h,a)):u??c(this,q).call(this,a)}const l=pn(o[0],this.errorHandler,c(this,q));return(async()=>{try{const u=await l(a);if(!u.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return u.res}catch(u){return k(this,N,ct).call(this,u,a)}})()},wn),mt="[^/]+",Fe=".*",Be="(?:|/.*)",He=Symbol(),Si=new Set(".\\+*[^]$()");function xi(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===Fe||e===Be?1:t===Fe||t===Be?-1:e===mt?1:t===mt?-1:e.length===t.length?e<t?-1:1:t.length-e.length}var ve,be,U,En,Wt=(En=class{constructor(){A(this,ve);A(this,be);A(this,U,Object.create(null))}insert(t,n,r,s,i){if(t.length===0){if(c(this,ve)!==void 0)throw He;if(i)return;y(this,ve,n);return}const[o,...a]=t,l=o==="*"?a.length===0?["","",Fe]:["","",mt]:o==="/*"?["","",Be]:o.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let u;if(l){const h=l[1];let f=l[2]||mt;if(h&&l[2]&&(f=f.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(f)))throw He;if(u=c(this,U)[f],!u){if(Object.keys(c(this,U)).some(d=>d!==Fe&&d!==Be))throw He;if(i)return;u=c(this,U)[f]=new Wt,h!==""&&y(u,be,s.varIndex++)}!i&&h!==""&&r.push([h,c(u,be)])}else if(u=c(this,U)[o],!u){if(Object.keys(c(this,U)).some(h=>h.length>1&&h!==Fe&&h!==Be))throw He;if(i)return;u=c(this,U)[o]=new Wt}u.insert(a,n,r,s,i)}buildRegExpStr(){const n=Object.keys(c(this,U)).sort(xi).map(r=>{const s=c(this,U)[r];return(typeof c(s,be)=="number"?`(${r})@${c(s,be)}`:Si.has(r)?`\\${r}`:r)+s.buildRegExpStr()});return typeof c(this,ve)=="number"&&n.unshift(`#${c(this,ve)}`),n.length===0?"":n.length===1?n[0]:"(?:"+n.join("|")+")"}},ve=new WeakMap,be=new WeakMap,U=new WeakMap,En),gt,Je,An,wi=(An=class{constructor(){A(this,gt,{varIndex:0});A(this,Je,new Wt)}insert(e,t,n){const r=[],s=[];for(let o=0;;){let a=!1;if(e=e.replace(/\{[^}]+\}/g,l=>{const u=`@\\${o}`;return s[o]=[u,l],o++,a=!0,u}),!a)break}const i=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let o=s.length-1;o>=0;o--){const[a]=s[o];for(let l=i.length-1;l>=0;l--)if(i[l].indexOf(a)!==-1){i[l]=i[l].replace(a,s[o][1]);break}}return c(this,Je).insert(i,t,r,c(this,gt),n),r}buildRegExp(){let e=c(this,Je).buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0;const n=[],r=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(s,i,o)=>i!==void 0?(n[++t]=Number(i),"$()"):(o!==void 0&&(r[Number(o)]=++t),"")),[new RegExp(`^${e}`),n,r]}},gt=new WeakMap,Je=new WeakMap,An),hr=[],Ei=[/^$/,[],Object.create(null)],ht=Object.create(null);function fr(e){return ht[e]??(ht[e]=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,n)=>n?`\\${n}`:"(?:|/.*)")}$`))}function Ai(){ht=Object.create(null)}function Ci(e){var u;const t=new wi,n=[];if(e.length===0)return Ei;const r=e.map(h=>[!/\*|\/:/.test(h[0]),...h]).sort(([h,f],[d,g])=>h?1:d?-1:f.length-g.length),s=Object.create(null);for(let h=0,f=-1,d=r.length;h<d;h++){const[g,v,m]=r[h];g?s[v]=[m.map(([S])=>[S,Object.create(null)]),hr]:f++;let b;try{b=t.insert(v,f,g)}catch(S){throw S===He?new lr(v):S}g||(n[f]=m.map(([S,w])=>{const E=Object.create(null);for(w-=1;w>=0;w--){const[C,R]=b[w];E[C]=R}return[S,E]}))}const[i,o,a]=t.buildRegExp();for(let h=0,f=n.length;h<f;h++)for(let d=0,g=n[h].length;d<g;d++){const v=(u=n[h][d])==null?void 0:u[1];if(!v)continue;const m=Object.keys(v);for(let b=0,S=m.length;b<S;b++)v[m[b]]=a[v[m[b]]]}const l=[];for(const h in o)l[h]=n[o[h]];return[i,l,s]}function Ae(e,t){if(e){for(const n of Object.keys(e).sort((r,s)=>s.length-r.length))if(fr(n).test(t))return[...e[n]]}}var oe,ae,De,dr,pr,Cn,ki=(Cn=class{constructor(){A(this,De);x(this,"name","RegExpRouter");A(this,oe);A(this,ae);y(this,oe,{[L]:Object.create(null)}),y(this,ae,{[L]:Object.create(null)})}add(e,t,n){var a;const r=c(this,oe),s=c(this,ae);if(!r||!s)throw new Error(ar);r[e]||[r,s].forEach(l=>{l[e]=Object.create(null),Object.keys(l[L]).forEach(u=>{l[e][u]=[...l[L][u]]})}),t==="/*"&&(t="*");const i=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){const l=fr(t);e===L?Object.keys(r).forEach(u=>{var h;(h=r[u])[t]||(h[t]=Ae(r[u],t)||Ae(r[L],t)||[])}):(a=r[e])[t]||(a[t]=Ae(r[e],t)||Ae(r[L],t)||[]),Object.keys(r).forEach(u=>{(e===L||e===u)&&Object.keys(r[u]).forEach(h=>{l.test(h)&&r[u][h].push([n,i])})}),Object.keys(s).forEach(u=>{(e===L||e===u)&&Object.keys(s[u]).forEach(h=>l.test(h)&&s[u][h].push([n,i]))});return}const o=tr(t)||[t];for(let l=0,u=o.length;l<u;l++){const h=o[l];Object.keys(s).forEach(f=>{var d;(e===L||e===f)&&((d=s[f])[h]||(d[h]=[...Ae(r[f],h)||Ae(r[L],h)||[]]),s[f][h].push([n,i-u+l+1]))})}}match(e,t){Ai();const n=k(this,De,dr).call(this);return this.match=(r,s)=>{const i=n[r]||n[L],o=i[2][s];if(o)return o;const a=s.match(i[0]);if(!a)return[[],hr];const l=a.indexOf("",1);return[i[1][l],a]},this.match(e,t)}},oe=new WeakMap,ae=new WeakMap,De=new WeakSet,dr=function(){const e=Object.create(null);return Object.keys(c(this,ae)).concat(Object.keys(c(this,oe))).forEach(t=>{e[t]||(e[t]=k(this,De,pr).call(this,t))}),y(this,oe,y(this,ae,void 0)),e},pr=function(e){const t=[];let n=e===L;return[c(this,oe),c(this,ae)].forEach(r=>{const s=r[e]?Object.keys(r[e]).map(i=>[i,r[e][i]]):[];s.length!==0?(n||(n=!0),t.push(...s)):e!==L&&t.push(...Object.keys(r[L]).map(i=>[i,r[L][i]]))}),n?Ci(t):null},Cn),le,ee,kn,Ri=(kn=class{constructor(e){x(this,"name","SmartRouter");A(this,le,[]);A(this,ee,[]);y(this,le,e.routers)}add(e,t,n){if(!c(this,ee))throw new Error(ar);c(this,ee).push([e,t,n])}match(e,t){if(!c(this,ee))throw new Error("Fatal error");const n=c(this,le),r=c(this,ee),s=n.length;let i=0,o;for(;i<s;i++){const a=n[i];try{for(let l=0,u=r.length;l<u;l++)a.add(...r[l]);o=a.match(e,t)}catch(l){if(l instanceof lr)continue;throw l}this.match=a.match.bind(a),y(this,le,[a]),y(this,ee,void 0);break}if(i===s)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,o}get activeRouter(){if(c(this,ee)||c(this,le).length!==1)throw new Error("No active router has been determined yet.");return c(this,le)[0]}},le=new WeakMap,ee=new WeakMap,kn),Te=Object.create(null),ce,T,Se,je,D,te,ge,Rn,mr=(Rn=class{constructor(e,t,n){A(this,te);A(this,ce);A(this,T);A(this,Se);A(this,je,0);A(this,D,Te);if(y(this,T,n||Object.create(null)),y(this,ce,[]),e&&t){const r=Object.create(null);r[e]={handler:t,possibleKeys:[],score:0},y(this,ce,[r])}y(this,Se,[])}insert(e,t,n){y(this,je,++Jt(this,je)._);let r=this;const s=li(t),i=[];for(let l=0,u=s.length;l<u;l++){const h=s[l],f=s[l+1],d=mn(h,f),g=Array.isArray(d)?d[0]:h;if(Object.keys(c(r,T)).includes(g)){r=c(r,T)[g];const v=mn(h,f);v&&i.push(v[1]);continue}c(r,T)[g]=new mr,d&&(c(r,Se).push(d),i.push(d[1])),r=c(r,T)[g]}const o=Object.create(null),a={handler:n,possibleKeys:i.filter((l,u,h)=>h.indexOf(l)===u),score:c(this,je)};return o[e]=a,c(r,ce).push(o),r}search(e,t){var a;const n=[];y(this,D,Te);let s=[this];const i=Xn(t),o=[];for(let l=0,u=i.length;l<u;l++){const h=i[l],f=l===u-1,d=[];for(let g=0,v=s.length;g<v;g++){const m=s[g],b=c(m,T)[h];b&&(y(b,D,c(m,D)),f?(c(b,T)["*"]&&n.push(...k(this,te,ge).call(this,c(b,T)["*"],e,c(m,D))),n.push(...k(this,te,ge).call(this,b,e,c(m,D)))):d.push(b));for(let S=0,w=c(m,Se).length;S<w;S++){const E=c(m,Se)[S],C=c(m,D)===Te?{}:{...c(m,D)};if(E==="*"){const j=c(m,T)["*"];j&&(n.push(...k(this,te,ge).call(this,j,e,c(m,D))),y(j,D,C),d.push(j));continue}if(h==="")continue;const[R,G,K]=E,H=c(m,T)[R],yt=i.slice(l).join("/");if(K instanceof RegExp){const j=K.exec(yt);if(j){if(C[G]=j[0],n.push(...k(this,te,ge).call(this,H,e,c(m,D),C)),Object.keys(c(H,T)).length){y(H,D,C);const $=((a=j[0].match(/\//))==null?void 0:a.length)??0;(o[$]||(o[$]=[])).push(H)}continue}}(K===!0||K.test(h))&&(C[G]=h,f?(n.push(...k(this,te,ge).call(this,H,e,C,c(m,D))),c(H,T)["*"]&&n.push(...k(this,te,ge).call(this,c(H,T)["*"],e,C,c(m,D)))):(y(H,D,C),d.push(H)))}}s=d.concat(o.shift()??[])}return n.length>1&&n.sort((l,u)=>l.score-u.score),[n.map(({handler:l,params:u})=>[l,u])]}},ce=new WeakMap,T=new WeakMap,Se=new WeakMap,je=new WeakMap,D=new WeakMap,te=new WeakSet,ge=function(e,t,n,r){const s=[];for(let i=0,o=c(e,ce).length;i<o;i++){const a=c(e,ce)[i],l=a[t]||a[L],u={};if(l!==void 0&&(l.params=Object.create(null),s.push(l),n!==Te||r&&r!==Te))for(let h=0,f=l.possibleKeys.length;h<f;h++){const d=l.possibleKeys[h],g=u[l.score];l.params[d]=r!=null&&r[d]&&!g?r[d]:n[d]??(r==null?void 0:r[d]),u[l.score]=!0}}return s},Rn),xe,_n,_i=(_n=class{constructor(){x(this,"name","TrieRouter");A(this,xe);y(this,xe,new mr)}add(e,t,n){const r=tr(t);if(r){for(let s=0,i=r.length;s<i;s++)c(this,xe).insert(e,r[s],n);return}c(this,xe).insert(e,t,n)}match(e,t){return c(this,xe).search(e,t)}},xe=new WeakMap,_n),ft=class extends cr{constructor(e={}){super(e),this.router=e.router??new Ri({routers:[new ki,new _i]})}},ji=e=>e;const gr=new Rr,vn=e=>(e=e.replace(/\.tsx?$/g,"").replace(/\.mdx?$/g,"").replace(/^\/?index$/,"/").replace(/\/index$/,"").replace(/\[\.{3}.+\]/,"*").replace(/\((.+?)\)/g,"").replace(/\[(.+?)\]/g,":$1").replace(/\/\//g,"/"),/^\//.test(e)?e:"/"+e),Ot=e=>{const t={};for(const[n,r]of Object.entries(e)){const s=n.split("/"),i=s.pop(),o=s.join("/");t[o]||(t[o]={}),i&&(t[o][i]=r)}for(const[n,r]of Object.entries(t)){const s=Object.entries(r).sort(([i],[o])=>i[0]==="["&&o[0]!=="["?1:i[0]!=="["&&o[0]==="["?-1:i.localeCompare(o));t[n]=Object.fromEntries(s)}return t},Oi=e=>Object.keys(e).sort((n,r)=>{const s=n.split("/").length,i=r.split("/").length;return s-i||r.localeCompare(n)}).map(n=>({[n]:e[n]})),Pi=e=>{const t={};for(const r of Object.keys(e)){const s=r.split("/");s.pop();const i=s.join("/");t[i]||(t[i]=[]),t[i].includes(r)||t[i].push(r)}const n=Object.keys(t).sort((r,s)=>s.length-r.length);for(const r of n)for(const s of n)if(s.startsWith(r)&&s!==r){const i=new Set([...t[s],...t[r]]);t[s]=[...i]}return t},yr="_404.tsx",Li="_error.tsx",Ni=["GET","POST","PUT","DELETE","OPTIONS","PATCH"],$i=e=>{const t=e.root,n=new RegExp(`^${t}`),r=b=>vn(b.replace(n,"")),s=new ft;s.use(async function(S,w){await gr.run(S,()=>w())});const i=e.NOT_FOUND,o=Ot(i),a=e.ERROR,l=Ot(a),u=e.RENDERER,h=Pi(u),f=e.MIDDLEWARE,d=e.ROUTES,g=Oi(Ot(d)),v=(b,S)=>{let w=S[b]??[];const E=R=>(w=S[R.join("/")],w||(R.pop(),R.length&&E(R)),w??[]),C=b.split("/");return w=E(C),w.sort((R,G)=>R.split("/").length-G.split("/").length),w},m={};for(const b of g)for(const[S,w]of Object.entries(b)){const E=new ft;let C=!1;const R=Di(S,o);R&&E.use(async(j,$)=>{if(await $(),j.res.status===404){const fe=await R(j),Q=new Response(fe.body,{status:404,headers:fe.headers});j.res=Q}}),v(S,h).map(j=>{const $=u[j];$[he]&&(C=!0);const Q=$.default;Q&&E.all("*",Q)});const K=Object.keys(f).find(j=>{const $=S.replaceAll("[","\\[").replaceAll("]","\\]").replaceAll("(","\\(").replaceAll(")","\\)");return new RegExp($+"/_middleware.tsx?").test(j)});if(K){const j=f[K];j.default&&E.use(...j.default)}for(const[j,$]of Object.entries(w)){const fe=$[he],Q=ji(async function(se,Ar){se.set(he,fe?!0:C),await Ar()}),re=$.default,de=vn(j);re&&"fetch"in re&&(E.use(Q),E.route(de,re));for(const pe of Ni){const se=$[pe];se&&(E.on(pe,de,Q),E.on(pe,de,...se))}re&&Array.isArray(re)&&(E.get(de,Q),E.get(de,...re)),typeof re=="function"&&(E.get(de,Q),E.get(de,async pe=>{const se=await re(pe);return se instanceof Response?se:pe.render(se,$)}))}const H=Ii(S,l);H&&(m[S]=H);for(const[j,$]of Object.entries(m))new RegExp(`^${j}`).test(S)&&$&&E.onError($);let yt=r(S);s.route(yt,E)}for(const b of g.reverse()){const S=Object.entries(b)[0][0],w=new ft;Ti(w,S,o);const E=r(S);s.route(E,w)}return s};function Di(e,t){for(const[n,r]of Object.entries(t))if(e===n){const s=r[yr];if(s)return s.default}}function Ti(e,t,n){for(const[r,s]of Object.entries(n))if(t===r){const i=s[yr];if(i){const o=i.default;i[he]&&e.use("*",(l,u)=>(l.set(he,!0),u())),e.get("*",l=>(l.status(404),o(l)))}}}function Ii(e,t){for(const[n,r]of Object.entries(t))if(e===n){const s=r[Li];if(s){const i=s.default;if(i)return async(a,l)=>{const u=s[he];return u&&l.set(he,u),l.status(500),i(a,l)}}}}const Mi=e=>$i({root:"/app/routes",NOT_FOUND:Object.assign({"/app/routes/_404.tsx":Nr}),ERROR:Object.assign({"/app/routes/_error.tsx":Dr}),RENDERER:Object.assign({"/app/routes/_renderer.tsx":Cs}),MIDDLEWARE:Object.assign({}),ROUTES:Object.assign({"/app/routes/index.tsx":ni})}),Hi=({children:e})=>{const t=gr.getStore();if(!t)throw new Error("No context found");return p(Pe,{children:t.get(he)&&e})},Wi={"_honox-island-DbLLQxz_.js":{file:"static/honox-island-DbLLQxz_.js",name:"honox-island",imports:["app/client.ts"]},"_index-BJLlL6Rz.js":{file:"static/index-BJLlL6Rz.js",name:"index"},"app/client.ts":{file:"static/client-B5gZYaLF.js",name:"client",src:"app/client.ts",isEntry:!0,dynamicImports:["app/islands/CollapsibleSection.tsx","app/islands/DownloadSection.tsx","app/islands/SectionGroup.tsx","node_modules/honox/dist/client/runtime.js","node_modules/honox/dist/client/runtime.js"]},"app/islands/CollapsibleSection.tsx":{file:"static/CollapsibleSection-axuh2Po1.js",name:"CollapsibleSection",src:"app/islands/CollapsibleSection.tsx",isDynamicEntry:!0,imports:["app/client.ts","_honox-island-DbLLQxz_.js","_index-BJLlL6Rz.js"]},"app/islands/DownloadSection.tsx":{file:"static/DownloadSection-BU03izV6.js",name:"DownloadSection",src:"app/islands/DownloadSection.tsx",isDynamicEntry:!0,imports:["app/client.ts","_honox-island-DbLLQxz_.js"]},"app/islands/SectionGroup.tsx":{file:"static/SectionGroup-CIm8V2uG.js",name:"SectionGroup",src:"app/islands/SectionGroup.tsx",isDynamicEntry:!0,imports:["app/client.ts","_honox-island-DbLLQxz_.js","_index-BJLlL6Rz.js"]},"app/style.css":{file:"static/style-CgR-KQJI.css",src:"app/style.css",isEntry:!0},"node_modules/honox/dist/client/runtime.js":{file:"static/runtime-Bp9a2kxi.js",name:"runtime",src:"node_modules/honox/dist/client/runtime.js",isDynamicEntry:!0,imports:["app/client.ts"]}},vr=Object.freeze(Object.defineProperty({__proto__:null,default:Wi},Symbol.toStringTag,{value:"Module"})),br=e=>e.endsWith("/")?e:e+"/",Fi=e=>{const t=e.src;if(e.prod??!0){let n=e.manifest;if(!n){const r=Object.assign({"/dist/.vite/manifest.json":vr});for(const[,s]of Object.entries(r))if(s.default){n=s.default;break}}if(n){const r=n[t.replace(/^\//,"")];if(r)return p(Hi,{children:p("script",{type:"module",async:!!e.async,src:`${br("/aboutme/")}${r.file}`,nonce:e.nonce})})}return p(Pe,{})}else return p("script",{type:"module",async:!!e.async,src:t,nonce:e.nonce})},Bi=e=>{let{href:t,prod:n,manifest:r,...s}=e;if(t)if(n??!0){if(!r){const i=Object.assign({"/dist/.vite/manifest.json":vr});for(const[,o]of Object.entries(i))if(o.default){r=o.default;break}}if(r){const i=r[t.replace(/^\//,"")];if(i)return t.startsWith("/")?p("link",{href:`${br("/aboutme/")}${i.file}`,...s}):p("link",{href:i.file,...s})}return p(Pe,{})}else return p("link",{href:t,...s});return p("link",{...s})},Sr=Mi();Pr(Sr);const Ft=new ft,xr=Object.assign({"/app/server.ts":Sr});let wr=!1;for(const[,e]of Object.entries(xr))e&&(Ft.all("*",t=>{let n;try{n=t.executionCtx}catch{}return e.fetch(t.req.raw,t.env,n)}),Ft.notFound(t=>{let n;try{n=t.executionCtx}catch{}return e.fetch(t.req.raw,t.env,n)}),wr=!0);if(!wr)throw new Error("Can't import modules from ['/src/index.ts','/src/index.tsx','/app/server.ts']");const Er={},bn=new Set;for(const[e,t]of Object.entries(xr))for(const[n,r]of Object.entries(t))if(n!=="fetch"){if(bn.has(n))throw new Error(`Handler "${n}" is defined in multiple entry files. Please ensure each handler (except fetch) is defined only once.`);bn.add(n),Er[n]=r}const Gi={...Er,fetch:Ft.fetch};export{Gi as default};
